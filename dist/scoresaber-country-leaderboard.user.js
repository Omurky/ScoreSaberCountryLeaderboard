// ==UserScript==
// @name         ScoreSaber country leaderboard
// @namespace    https://motzel.dev
// @version      0.7.7
// @description  Add country leaderboard tab
// @author       motzel
// @icon         https://scoresaber.com/imports/images/logo.ico
// @updateURL    https://github.com/motzel/ScoreSaberCountryLeaderboard/raw/master/dist/scoresaber-country-leaderboard.user.js
// @downloadURL  https://github.com/motzel/ScoreSaberCountryLeaderboard/raw/master/dist/scoresaber-country-leaderboard.user.js
// @supportURL   https://github.com/motzel/ScoreSaberCountryLeaderboard/issues
//
// @match        https://scoresaber.com/leaderboard/*
// @match        https://scoresaber.com/u/*
//
// @include      /^https://scoresaber\.com\/global(\/\d+&country=pl|\?country=pl)/
//
// @require      https://cdnjs.cloudflare.com/ajax/libs/localforage/1.7.3/localforage.min.js
//
// @grant        GM_addStyle
// @grant        GM_info
// @grant        GM_xmlhttpRequest
// @run-at       document-end
// ==/UserScript==

!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(a,r,function(t){return e[t]}.bind(null,r));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function a(e,t,n,a,r,o,d){try{var s=e[o](d),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function d(e){a(i,r,o,d,s,"next",e)}function s(e){a(i,r,o,d,s,"throw",e)}var i=e.apply(t,n);d(void 0)})}}function o(e){if(null===e)throw new Error("Assertion failed");return e}function d(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o((null==t?document:t).querySelector(e))}function s(){return i.apply(this,arguments)}function i(){return(i=r(function*(){var e=d(".ranking table.global"),t=O(),n=yield Object(q.getLeaderboard)(z(),t);if(null==n?void 0:n.length){var a=document.createElement("div");a.id="sspl",a.style.display="none",e.parentNode.appendChild(a);var o=new I.default({target:a,props:{leaderboardId:t,leaderboard:n}});o.$on("data-refreshed",function(){var e=r(function*(){var e=yield Object(q.getLeaderboard)(z(),t);o.$set({leaderboard:e})});return function(){return e.apply(this,arguments)}}())}return n})).apply(this,arguments)}function l(){return p.apply(this,arguments)}function p(){return(p=r(function*(){P.default.info("Setup leaderboard page");var e=O();if(e){var t=yield s();t&&t.length&&(d(".tabs > ul").appendChild(_("pl_tab",null===document.querySelector(".filter_tab"))),document.addEventListener("click",function(t){var e=t.target.closest(".filter_tab");if(e){var n=o(t.target.closest(".box")),a=d("#sspl",n),r=d("table.ranking",n);e.classList.contains("sspl")?(r.style.display="none",a.style.display="",d(".pagination").style.display="none"):(r.style.display="",a.style.display="none",d(".pagination").style.display="")}},{passive:!0}),Object(R.getMainUserId)()&&[].forEach.call(document.querySelectorAll(".scoreTop.ppValue"),function(){var t=r(function*(t){var n=parseFloat(t.innerText.replace(/\s/,"").replace(",","."));n&&n>0+Number.EPSILON&&new A.default({target:t.parentNode,props:{leaderboardId:e,pp:n}})});return function(){return t.apply(this,arguments)}}()),P.default.info("Setup leaderboard page / Done"))}})).apply(this,arguments)}function u(){P.default.info("Setup chart");var e=document.getElementById("rankChart");if(e){var t=Object(L.getFirstRegexpMatch)(/data:\s*\[([0-9,]+)\]/,document.body.innerHTML);t&&(e.parentNode.innerHTML="<canvas class=\"chartjs-render-monitor\" id=\"rankChart\"></canvas>",new Chart(document.getElementById("rankChart"),{responsive:!0,onResize:function(e){e.resize(),e.render(!0)},type:"line",data:{labels:Array(50).fill(0).map((e,t)=>0===t?"now":1===t?"yesterday":t+" days ago").reverse(),datasets:[{data:t.split(","),label:"Rank",borderColor:"#3e95cd",fill:!1}]},options:{maintainAspectRatio:!1,title:{display:!1},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{yAxes:[{ticks:{reverse:!0,userCallback:function(e){if(Math.floor(e)===e)return e}}}]}}}),P.default.info("Setup chart / Done"))}}function c(){return f.apply(this,arguments)}function f(){return(f=r(function*(){var e,t;P.default.info("Setup profile page"),"loading"==document.readyState?document.addEventListener("DOMContentLoaded",()=>{u()}):u();var n=M();if(n){var a=yield Object(T.getCacheAndConvertIfNeeded)(),o=document.querySelector("table.ranking");o&&o.classList.add("sspl"),(yield Promise.all([...document.querySelectorAll("table.ranking tbody tr")].map(function(){var e=r(function*(e){var t={tr:e},r=e.querySelector("th.rank"),o,d,s;if(r){var i=Object(L.getFirstRegexpMatch)(/#(\d+)/,r.innerText);t.rank=i?parseInt(i,10):null}else t.rank=null;var l=e.querySelector("th.song a");if(l){var p=Object(L.getFirstRegexpMatch)(/leaderboard\/(\d+)/,l.href);t.leaderboardId=p?parseInt(p,10):null}else t.leaderboardId=null;var u=e.querySelector("th.song img");t.songImg=u?u.src:null;var c=e.querySelector("th.song a .songTop.pp"),f=c?c.innerHTML.match(/^(.*?)\s*<span[^>]+>(.*?)<\/span>/):null;f?(t.songName=f[1],t.songDiff=f[2]):t=Object.assign(t,{songName:null,songDiff:null});var m=e.querySelector("th.song a .songTop.mapper");t.songMapper=m?m.innerText:null;var g=e.querySelector("th.song span.songBottom.time");t.timeset=g?g.title:null;var _=e.querySelector("th.score .scoreTop.ppValue");_&&(t.pp=parseFloat(_.innerText));var h=e.querySelector("th.score .scoreTop.ppWeightedValue"),y=h?Object(L.getFirstRegexpMatch)(/^\(([0-9.]+)pp\)$/,h.innerText):null;t.ppWeighted=y?parseFloat(y):null;var v=e.querySelector("th.score .scoreBottom"),b=v?v.innerText.match(/^([^:]+):\s*([0-9,.]+)(?:.*?\((.*?)\))?/):null;if(b)switch(b[1]){case"score":t.percent=null,t.mods=b[3]?b[3]:"",t.score=parseFloat(b[2].replace(/[^0-9.]/g,""));break;case"accuracy":t.score=null,t.mods=b[3]?b[3]:"",t.percent=parseFloat(b[2].replace(/[^0-9.]/g,""))/100;}var $=null===(o=a.users)||void 0===o||null===(d=o[n])||void 0===d||null===(s=d.scores)||void 0===s?void 0:s[t.leaderboardId];if($)try{var k=yield Object(q.getSongMaxScore)($.id,$.diff);!t.percent&&t.score&&(t.percent=k?t.score/k:$.maxScoreEx?t.score/$.maxScoreEx:null),!t.score&&t.percent&&(t.score=k||$.maxScoreEx?Math.round(t.percent*(k||$.maxScoreEx)):null),t.hidden=Object(N.shouldBeHidden)(Object.assign({},$,{id:$.playerId,percent:$.percent}));var x=$.history&&$.history.length?$.history[0]:null;t.prevRank=x?x.rank:null,t.prevPp=x?x.pp:null,t.prevScore=x?x.score:null,t.prevTimeset=x?new Date(Date.parse(x.rank)):null,t.prevPercent=x&&t.prevScore?k?t.prevScore/k:$.maxScoreEx?t.prevScore/$.maxScoreEx:null:null}catch(t){}return t});return function(){return e.apply(this,arguments)}}()))).filter((e)=>null!==e.tr).forEach((e)=>{var t=e.tr.querySelector(".score");t&&(t.innerHTML="",new w.default({target:t,props:{song:e}}))});var d=document.querySelector(".content .column ul"),s,i;d&&(null===(e=a.users)||void 0===e||null===(t=e[n])||void 0===t?void 0:t.stats)&&new S.default({target:d,props:{profile:null!==(s=null===(i=a.users)||void 0===i?void 0:i[n])&&void 0!==s?s:null}});var l=document.querySelector(".content .column h5");if(l){var p=document.createElement("div");p.classList.add("refresh"),l.appendChild(p),new E.default({target:p,props:{}}).$on("data-refreshed",function(){var e=r(function*(){window.location.reload(!1)});return function(){return e.apply(this,arguments)}}())}P.default.info("Setup profile page / Done")}})).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=r(function*(){var e;P.default.info("Setup country ranking");var t=null===(e=yield Object(T.getCacheAndConvertIfNeeded)())||void 0===e?void 0:e.users;if(t){var n=d("table.ranking.global"),a=d(".pagination",n.parentNode.parentNode),r=document.createElement("select");r.classList.add("type"),[{value:"sspl",text:"Cached"},{value:"original",text:"Original"}].map((e)=>{var t=document.createElement("option");t.selected="sspl"===e.value,t.value=e.value,t.text=e.text,r.appendChild(t)}),a.insertBefore(r,d("br",a)),r.addEventListener("change",(t)=>Array.prototype.slice.apply(t.target.closest(".box").querySelectorAll("table.ranking.global")).map((e)=>e.style.display=e.classList.contains(t.target.options[t.target.selectedIndex].value)?"":"none")),n.style.display="none",n.classList.add("original"),new C.default({target:n.parentNode,props:{users:Object(U.mapUsersToObj)(Object(U.filterByCountry)(t),t)}}),P.default.info("Setup country ranking / Done")}})).apply(this,arguments)}function _(e,t){var r="filter_tab sspl "+(t?" offset_tab":""),d=document.createElement("li");d.id=e,r.split(" ").filter((e)=>e.length).map((e)=>d.classList.add(e));var s=document.createElement("a");s.classList.add("has-text-info");var a=document.createElement("img");return a.classList.add("bloodtrail"),a.src=n(51).default,s.appendChild(a),d.appendChild(s),s.addEventListener("click",()=>{document.querySelectorAll(".tabs > ul .filter_tab").forEach((e)=>e.classList.remove("is-active")),o(document.getElementById(e)).classList.add("is-active")}),d}function h(){P.default.info("Setup styles"),(GM_addStyle||(()=>{}))(n(52).toString()),(getComputedStyle(document.documentElement).getPropertyValue("--foreground").length?[["hover","#444"]]:[["background","white"],["foreground","white"],["textColor","#4a4a4a"],["ppColour","#6772E5"],["alternate","#3273dc"],["hover","#ddd"]]).map((e)=>document.documentElement.style.setProperty("--"+e[0],e[1]))}function y(){return v.apply(this,arguments)}function v(){return(v=r(function*(){j=!0,D()&&(yield $(R.default.SSE_CHECK_DELAY),yield l())})).apply(this,arguments)}function b(e){return null===document.querySelector(e)?new Promise((e)=>{requestAnimationFrame(e)}).then(()=>b(e)):Promise.resolve(!0)}function $(){return k.apply(this,arguments)}function k(){return(k=r(function*(e){return P.default.info("Waiting for SSE initialization"),new Promise(function(t){b("#all_scores_tab").then((e)=>t(e)),setTimeout(()=>t(null),e)})})).apply(this,arguments)}function x(){return(x=r(function*(){(P.default.info("init"),!j)&&(yield Object(T.getCacheAndConvertIfNeeded)(),h(),H()&&c(),B()&&m(),yield y(),P.default.info("Setup complete"))})).apply(this,arguments)}n.r(t);var S=n(1),C=n(31),I=n(36),A=n(39),w=n(50),E=n(40),P=n(10),R=n(5),T=n(9),L=n(15),q=n(24),N=n(25),U=n(27),O=()=>Object(L.getFirstRegexpMatch)(/\/leaderboard\/(\d+)(\?page=.*)?#?/,window.location.href.toLowerCase()),z=()=>{var e;return null===(e=document.querySelector(".title~b"))||void 0===e?void 0:e.innerText},D=()=>null!==O(),M=()=>Object(L.getFirstRegexpMatch)(/\u\/(\d+)((\?|&).*)?$/,window.location.href.toLowerCase()),H=()=>null!==M(),B=()=>0<=["https://scoresaber.com/global?country="+R.default.COUNTRY,"https://scoresaber.com/global/1&country="+R.default.COUNTRY].indexOf(window.location.href),j=!1;!function(){x.apply(this,arguments)}()},function(e,t,n){"use strict";function a(e){let t,n,a;const r=new i.default({props:{label:"Ranked play count",value:e[0].stats.rankedPlayCount,precision:0}}),o=new i.default({props:{label:"Total ranked score",value:e[0].stats.totalRankedScore,precision:0}}),d=new i.default({props:{label:"Average ranked accuracy",value:e[0].stats.averageRankedAccuracy,suffix:"%"}});return{c(){Object(s.create_component)(r.$$.fragment),t=Object(s.space)(),Object(s.create_component)(o.$$.fragment),n=Object(s.space)(),Object(s.create_component)(d.$$.fragment)},m(e,i){Object(s.mount_component)(r,e,i),Object(s.insert)(e,t,i),Object(s.mount_component)(o,e,i),Object(s.insert)(e,n,i),Object(s.mount_component)(d,e,i),a=!0},p(e,t){const n={};1&t&&(n.value=e[0].stats.rankedPlayCount),r.$set(n);const a={};1&t&&(a.value=e[0].stats.totalRankedScore),o.$set(a);const s={};1&t&&(s.value=e[0].stats.averageRankedAccuracy),d.$set(s)},i(e){a||(Object(s.transition_in)(r.$$.fragment,e),Object(s.transition_in)(o.$$.fragment,e),Object(s.transition_in)(d.$$.fragment,e),a=!0)},o(e){Object(s.transition_out)(r.$$.fragment,e),Object(s.transition_out)(o.$$.fragment,e),Object(s.transition_out)(d.$$.fragment,e),a=!1},d(e){Object(s.destroy_component)(r,e),e&&Object(s.detach)(t),Object(s.destroy_component)(o,e),e&&Object(s.detach)(n),Object(s.destroy_component)(d,e)}}}function r(e){let t,n;const a=new l.default({props:{scores:e[1]}});return{c(){t=Object(s.element)("li"),Object(s.create_component)(a.$$.fragment)},m(e,r){Object(s.insert)(e,t,r),Object(s.mount_component)(a,t,null),n=!0},p(e,t){const n={};2&t&&(n.scores=e[1]),a.$set(n)},i(e){n||(Object(s.transition_in)(a.$$.fragment,e),n=!0)},o(e){Object(s.transition_out)(a.$$.fragment,e),n=!1},d(e){e&&Object(s.detach)(t),Object(s.destroy_component)(a)}}}function o(e){let n=e[0]&&e[0].stats&&a(e),o=e[1]&&r(e),d,t,i;return{c(){n&&n.c(),d=Object(s.space)(),o&&o.c(),t=Object(s.empty)()},m(e,a){n&&n.m(e,a),Object(s.insert)(e,d,a),o&&o.m(e,a),Object(s.insert)(e,t,a),i=!0},p(e,[i]){e[0]&&e[0].stats?n?(n.p(e,i),1&i&&Object(s.transition_in)(n,1)):(n=a(e),n.c(),Object(s.transition_in)(n,1),n.m(d.parentNode,d)):n&&(Object(s.group_outros)(),Object(s.transition_out)(n,1,1,()=>{n=null}),Object(s.check_outros)()),e[1]?o?(o.p(e,i),2&i&&Object(s.transition_in)(o,1)):(o=r(e),o.c(),Object(s.transition_in)(o,1),o.m(t.parentNode,t)):o&&(Object(s.group_outros)(),Object(s.transition_out)(o,1,1,()=>{o=null}),Object(s.check_outros)())},i(){i||(Object(s.transition_in)(n),Object(s.transition_in)(o),i=!0)},o(){Object(s.transition_out)(n),Object(s.transition_out)(o),i=!1},d(e){n&&n.d(e),e&&Object(s.detach)(d),o&&o.d(e),e&&Object(s.detach)(t)}}}function d(e,t,n){let{profile:a}=t,r;return e.$set=(e)=>{"profile"in e&&n(0,a=e.profile)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=a.scores?Object.values(a.scores).filter((e)=>0<e.pp).map((e)=>e.pp).sort((e,t)=>t-e):null)},[a,r]}n.r(t);var s=n(2),i=n(3),l=n(7);class p extends s.SvelteComponent{constructor(e){super(),Object(s.init)(this,e,d,o,s.safe_not_equal,{profile:0})}}t.default=p},function(e,t,n){"use strict";function a(){}function r(e,t){for(const n in t)e[n]=t[n];return e}function o(e){return e&&"object"==typeof e&&"function"==typeof e.then}function d(e,t,n,a,r){e.__svelte_meta={loc:{file:t,line:n,column:a,char:r}}}function s(e){return e()}function i(){return Object.create(null)}function l(e){e.forEach(s)}function p(e){return"function"==typeof e}function u(e,t){return e==e?e!==t||e&&"object"==typeof e||"function"==typeof e:t==t}function c(e,t){return e==e?e!==t:t==t}function f(e,t){if(null!=e&&"function"!=typeof e.subscribe)throw new Error(`'${t}' is not a store with a 'subscribe' method`)}function m(e,...t){if(null==e)return a;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function g(e){let t;return m(e,(e)=>t=e)(),t}function _(e,t,n){e.$$.on_destroy.push(m(t,n))}function h(e,t,n,a){if(e){const r=y(e,t,n,a);return e[0](r)}}function y(e,t,n,a){return e[1]&&a?r(n.ctx.slice(),e[1](a(t))):n.ctx}function v(e,t,n,a){if(e[2]&&a){const r=e[2](a(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let a=0;a<n;a+=1)e[a]=t.dirty[a]|r[a];return e}return t.dirty|r}return t.dirty}function b(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function $(e,t){const n={};for(const a in t=new Set(t),e)t.has(a)||"$"===a[0]||(n[a]=e[a]);return n}function k(e){let t=!1;return function(...n){t||(t=!0,e.call(this,...n))}}function x(e){return null==e?"":e}function S(e,t,n=t){return e.set(n),t}function C(e){return e&&p(e.destroy)?e.destroy:a}function I(e){Nt=e}function A(e){Ut=e}function w(e){Ot.forEach((t)=>{t.c(e)||(Ot.delete(t),t.f())}),0!==Ot.size&&Ut(w)}function E(){Ot.clear()}function P(e){let t;return 0===Ot.size&&Ut(w),{promise:new Promise((n)=>{Ot.add(t={c:e,f:n})}),abort(){Ot.delete(t)}}}function R(e,t){e.appendChild(t)}function T(e,t,n){e.insertBefore(t,n||null)}function L(e){e.parentNode.removeChild(e)}function q(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function N(e){return document.createElement(e)}function U(e,t){return document.createElement(e,{is:t})}function O(e,t){const n={};for(const a in e)Lt(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}function z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function D(e){return document.createTextNode(e)}function M(){return D(" ")}function H(){return D("")}function B(e,t,n,a){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)}function j(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Y(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function F(e){return function(t){t.target===this&&e.call(this,t)}}function V(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function W(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const a in t)null==t[a]?e.removeAttribute(a):"style"===a?e.style.cssText=t[a]:"__value"===a?e.value=e[a]=t[a]:n[a]&&n[a].set?e[a]=t[a]:V(e,a,t[a])}function G(e,t){for(const n in t)V(e,n,t[n])}function X(e,t,n){t in e?e[t]=n:V(e,t,n)}function K(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function Z(e){const t=[];for(let n=0;n<e.length;n+=1)e[n].checked&&t.push(e[n].__value);return t}function Q(e){return""===e?void 0:+e}function J(e){const t=[];for(let n=0;n<e.length;n+=1)t.push({start:e.start(n),end:e.end(n)});return t}function ee(e){return Array.from(e.childNodes)}function te(e,t,n,a){for(let r=0;r<e.length;r+=1){const a=e[r];if(a.nodeName===t){for(let e=0;e<a.attributes.length;){const t=a.attributes[e];n[t.name]?e++:a.removeAttribute(t.name)}return e.splice(r,1)[0]}}return a?z(t):N(t)}function ne(e,t){for(let n=0;n<e.length;n+=1){const a=e[n];if(3===a.nodeType)return a.data=""+t,e.splice(n,1)[0]}return D(t)}function ae(e){return ne(e," ")}function re(e,t){t=""+t,e.data!==t&&(e.data=t)}function oe(e,t){(null!=t||e.value)&&(e.value=t)}function de(e,t){try{e.type=t}catch(t){}}function se(e,t,n,a){e.style.setProperty(t,n,a?"important":"")}function ie(e,t){for(let n=0;n<e.options.length;n+=1){const a=e.options[n];if(a.__value===t)return void(a.selected=!0)}}function le(e,t){for(let n=0;n<e.options.length;n+=1){const a=e.options[n];a.selected=~t.indexOf(a.__value)}}function pe(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function ue(e){return[].map.call(e.querySelectorAll(":checked"),(e)=>e.__value)}function ce(){if(void 0===zt){zt=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){zt=!0}}return zt}function fe(e,t){const n=getComputedStyle(e),a=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(e.style.position="relative");const r=N("iframe");let o;return r.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${a};`),r.setAttribute("aria-hidden","true"),r.tabIndex=-1,ce()?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>",o=B(window,"message",(e)=>{e.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{o=B(r.contentWindow,"resize",t)}),R(e,r),()=>{L(r),o&&o()}}function me(e,t,n){e.classList[n?"add":"remove"](t)}function ge(t,n){const a=document.createEvent("CustomEvent");return a.initCustomEvent(t,!1,!1,n),a}function _e(e,t=document.body){return Array.from(t.querySelectorAll(e))}function he(e,n,a,t,r,o,d,s=0){let i="{\n";for(let l=0;1>=l;l+=16.666/t){const e=n+(a-n)*o(l);i+=100*l+`%{${d(e,1-e)}}\n`}const l=i+`100% {${d(a,1-a)}}\n}`,p=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${s}`,u=e.ownerDocument;Mt.add(u);const c=u.__svelte_stylesheet||(u.__svelte_stylesheet=u.head.appendChild(N("style")).sheet),f=u.__svelte_rules||(u.__svelte_rules={});f[p]||(f[p]=!0,c.insertRule(`@keyframes ${p} ${l}`,c.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?m+", ":""}${p} ${t}ms linear ${r}ms 1 both`,Ht+=1,p}function ye(e,t){const n=(e.style.animation||"").split(", "),a=n.filter(t?(e)=>0>e.indexOf(t):(e)=>-1===e.indexOf("__svelte")),r=n.length-a.length;r&&(e.style.animation=a.join(", "),Ht-=r,Ht||Ut(()=>{Ht||(Mt.forEach((e)=>{const t=e.__svelte_stylesheet;for(let n=t.cssRules.length;n--;)t.deleteRule(n);e.__svelte_rules={}}),Mt.clear())}))}function ve(e,t,n,r){function o(){s&&ye(e,_),m=!1}if(!t)return a;const d=e.getBoundingClientRect();if(t.left===d.left&&t.right===d.right&&t.top===d.top&&t.bottom===d.bottom)return a;const{delay:i=0,duration:l=300,easing:p=Tt,start:u=Nt()+i,end:c=u+l,tick:f=a,css:s}=n(e,{from:t,to:d},r);let m=!0,g=!1,_;return P((e)=>{if(!g&&e>=u&&(g=!0),g&&e>=c&&(f(1,0),o()),!m)return!1;if(g){const n=0+1*p((e-u)/l);f(n,1-n)}return!0}),s&&(_=he(e,0,1,l,i,p,s)),i||(g=!0),f(0,1),o}function be(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:r}=t,o=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,$e(e,o)}}function $e(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const a=getComputedStyle(e),r="none"===a.transform?"":a.transform;e.style.transform=`${r} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function ke(e){Bt=e}function xe(){if(!Bt)throw new Error("Function called outside component initialization");return Bt}function Se(e){xe().$$.before_update.push(e)}function Ce(e){xe().$$.on_mount.push(e)}function Ie(e){xe().$$.after_update.push(e)}function Ae(e){xe().$$.on_destroy.push(e)}function we(){const e=xe();return(t,n)=>{const a=e.$$.callbacks[t];if(a){const r=ge(t,n);a.slice().forEach((t)=>{t.call(e,r)})}}}function Ee(e,t){xe().$$.context.set(e,t)}function Pe(e){return xe().$$.context.get(e)}function Re(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e)=>e(t))}function Te(){Xt||(Xt=!0,Gt.then(Ue))}function Le(){return Te(),Gt}function qe(e){Vt.push(e)}function Ne(e){Wt.push(e)}function Ue(){if(!Kt){Kt=!0;do{for(let e=0;e<jt.length;e+=1){const t=jt[e];ke(t),Oe(t.$$)}for(jt.length=0;Ft.length;)Ft.pop()();for(let e=0;e<Vt.length;e+=1){const t=Vt[e];Zt.has(t)||(Zt.add(t),t())}Vt.length=0}while(jt.length);for(;Wt.length;)Wt.pop()();Xt=!1,Kt=!1,Zt.clear()}}function Oe(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(qe)}}function ze(){return Qt||(Qt=Promise.resolve(),Qt.then(()=>{Qt=null})),Qt}function De(e,t,n){e.dispatchEvent(ge(`${t?"intro":"outro"}${n}`))}function Me(){en={r:0,c:[],p:en}}function He(){en.r||l(en.c),en=en.p}function Be(e,t){e&&e.i&&(Jt.delete(e),e.i(t))}function je(e,t,n,a){if(e&&e.o){if(Jt.has(e))return;Jt.add(e),en.c.push(()=>{Jt.delete(e),a&&(n&&e.d(1),a())}),e.o(t)}}function Ye(e,t,n){function r(){u&&ye(e,u)}function o(){const{delay:n=0,duration:o=300,easing:l=Tt,tick:p=a,css:t}=d||tn;t&&(u=he(e,0,1,o,n,l,t,i++)),p(0,1);const f=Nt()+n;c&&c.abort(),s=!0,qe(()=>De(e,!0,"start")),c=P((n)=>{if(s){if(n>=f+o)return p(1,0),De(e,!0,"end"),r(),s=!1;if(n>=f){const e=l((n-f)/o);p(e,1-e)}}return s})}let d=t(e,n),s=!1,i=0,l=!1,u,c;return{start(){l||(ye(e),p(d)?(d=d(),ze().then(o)):o())},invalidate(){l=!1},end(){s&&(r(),s=!1)}}}function Fe(e,t,n){function r(){const{delay:n=0,duration:r=300,easing:p=Tt,tick:u=a,css:t}=o||tn;t&&(s=he(e,1,0,r,n,p,t));const c=Nt()+n;qe(()=>De(e,!1,"start")),P((n)=>{if(d){if(n>=c+r)return u(0,1),De(e,!1,"end"),--i.r||l(i.c),!1;if(n>=c){const e=p((n-c)/r);u(1-e,e)}}return d})}let o=t(e,n),d=!0,s;const i=en;return i.r+=1,p(o)?ze().then(()=>{o=o(),r()}):r(),{end(t){t&&o.tick&&o.tick(1,0),d&&(s&&ye(e,s),d=!1)}}}function Ve(e,n,r,o){function d(){g&&ye(e,g)}function s(e,n){const a=e.b-c;return n*=Rt(a),{a:c,b:e.b,d:a,duration:n,start:e.start,end:e.start+n,group:e.group}}function i(t){const{delay:r=0,duration:o=300,easing:i=Tt,tick:_=a,css:n}=u||tn,p={start:Nt()+r,b:t};t||(p.group=en,en.r+=1),f?m=p:(n&&(d(),g=he(e,c,t,o,r,i,n)),t&&_(0,1),f=s(p,o),qe(()=>De(e,t,"start")),P((t)=>{if(m&&t>m.start&&(f=s(m,o),m=null,De(e,f.b,"start"),n&&(d(),g=he(e,c,f.b,f.duration,0,i,u.css))),f)if(t>=f.end)_(c=f.b,1-c),De(e,f.b,"end"),m||(f.b?d():--f.group.r||l(f.group.c)),f=null;else if(t>=f.start){const e=t-f.start;c=f.a+f.d*i(e/f.duration),_(c,1-c)}return f||m}))}let u=n(e,r),c=o?0:1,f=null,m=null,g=null;return{run(e){p(u)?ze().then(()=>{u=u(),i(e)}):i(e)},end(){d(),f=m=null}}}function We(e,t){function n(e,n,r,o){if(t.token!==a)return;t.resolved=o;let d=t.ctx;void 0!==r&&(d=d.slice(),d[r]=o);const s=e&&(t.current=e)(d);let i=!1;t.block&&(t.blocks?t.blocks.forEach((e,a)=>{a!==n&&e&&(Me(),je(e,1,1,()=>{t.blocks[a]=null}),He())}):t.block.d(1),s.c(),Be(s,1),s.m(t.mount(),t.anchor),i=!0),t.block=s,t.blocks&&(t.blocks[n]=s),i&&Ue()}const a=t.token={};if(o(e)){const a=xe();if(e.then((e)=>{ke(a),n(t.then,1,t.value,e),ke(null)},(e)=>{ke(a),n(t.catch,2,t.error,e),ke(null)}),t.current!==t.pending)return n(t.pending,0),!0}else{if(t.current!==t.then)return n(t.then,1,t.value,e),!0;t.resolved=e}}function Ge(e,t){e.d(1),t.delete(e.key)}function Xe(e,t){je(e,1,1,()=>{t.delete(e.key)})}function Ke(e,t){e.f(),Ge(e,t)}function Ze(e,t){e.f(),Xe(e,t)}function Qe(e,t,a,r,d,s,l,p,u,c,f,m){function g(e){Be(e,1),e.m(p,f,l.has(e.key)),l.set(e.key,e),f=e.first,o--}let _=e.length,o=s.length,n=_;const i={};for(;n--;)i[e[n].key]=n;const h=[],y=new Map,v=new Map;for(n=o;n--;){const e=m(d,s,n),o=a(e);let p=l.get(o);p?r&&p.p(e,t):(p=c(o,e),p.c()),y.set(o,h[n]=p),o in i&&v.set(o,Rt(n-i[o]))}for(const n=new Set,i=new Set;_&&o;){const t=h[o-1],a=e[_-1],r=t.key,d=a.key;t===a?(f=t.first,_--,o--):y.has(d)?!l.has(r)||n.has(r)?g(t):i.has(d)?_--:v.get(r)>v.get(d)?(i.add(r),g(t)):(n.add(d),_--):(u(a,l),_--)}for(;_--;){const t=e[_];y.has(t.key)||u(t,l)}for(;o;)g(h[o-1]);return h}function Je(e,t,n,a){const r=new Set;for(let o=0;o<t.length;o++){const d=a(n(e,t,o));if(r.has(d))throw new Error("Cannot have duplicate keys in a keyed each");r.add(d)}}function et(e,t){const a={},r={},d={$$scope:1};for(let s=e.length;s--;){const i=e[s],o=t[s];if(o){for(const e in i)e in o||(r[e]=1);for(const e in o)d[e]||(a[e]=o[e],d[e]=1);e[s]=o}else for(const e in i)d[e]=1}for(const n in r)n in a||(a[n]=void 0);return a}function tt(e){return"object"==typeof e&&null!==e?e:{}}function nt(e,t){const n=Object.assign({},...e);t&&(null==n.class?n.class=t:n.class+=" "+t);let a="";return Object.keys(n).forEach((e)=>{if(!rn.test(e)){const t=n[e];!0===t?a+=" "+e:an.has(e.toLowerCase())?t&&(a+=" "+e):null!=t&&(a+=` ${e}="${(t+"").replace(/"/g,"&#34;").replace(/'/g,"&#39;")}"`)}}),a}function at(e){return(e+"").replace(/["'&<>]/g,(e)=>on[e])}function rt(e,t){let n="";for(let a=0;a<e.length;a+=1)n+=t(e[a],a);return n}function ot(e,t){if(!e||!e.$$render)throw"svelte:component"===t&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);return e}function dt(e,t,n,a){return console.log(`{@debug} ${e?e+" ":""}(${t}:${n})`),console.log(a),""}function st(e){function t(t,n,a,r){const o=Bt;ke({$$:{on_destroy:sn,context:new Map(o?o.$$.context:[]),on_mount:[],before_update:[],after_update:[],callbacks:i()}});const d=e(t,n,a,r);return ke(o),d}return{render:(e={},n={})=>{sn=[];const a={title:"",head:"",css:new Set},r=t(a,e,{},n);return l(sn),{html:r,css:{code:Array.from(a.css).map((e)=>e.code).join("\n"),map:null},head:a.title+a.head}},$$render:t}}function it(e,t,n){return null==t||n&&!t?"":` ${e}${!0===t?"":"="+("string"==typeof t?JSON.stringify(at(t)):`"${t}"`)}`}function lt(e){return e?` class="${e}"`:""}function pt(e,t,n){const a=e.$$.props[t];void 0!==a&&(e.$$.bound[a]=n,n(e.$$.ctx[a]))}function ut(e){e&&e.c()}function ct(e,t){e&&e.l(t)}function ft(e,t,n){const{fragment:a,on_mount:r,on_destroy:o,after_update:d}=e.$$;a&&a.m(t,n),qe(()=>{const t=r.map(s).filter(p);o?o.push(...t):l(t),e.$$.on_mount=[]}),d.forEach(qe)}function mt(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function gt(e,t,n,r,o,d,s=[-1]){const p=Bt;ke(e);const u=t.props||{},c=e.$$={fragment:null,ctx:null,props:d,update:a,not_equal:o,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:i(),dirty:s};let f=!1;if(c.ctx=n?n(e,u,(t,n,...a)=>{const r=a.length?a[0]:n;return c.ctx&&o(c.ctx[t],c.ctx[t]=r)&&(c.bound[t]&&c.bound[t](r),f&&function(e,t){-1===e.$$.dirty[0]&&(jt.push(e),Te(),e.$$.dirty.fill(0)),e.$$.dirty[0|t/31]|=1<<t%31}(e,t)),n}):[],c.update(),f=!0,l(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){const e=ee(t.target);c.fragment&&c.fragment.l(e),e.forEach(L)}else c.fragment&&c.fragment.c();t.intro&&Be(e.$$.fragment),ft(e,t.target,t.anchor),Ue()}ke(p)}function _t(e,t){document.dispatchEvent(ge(e,Object.assign({version:"3.22.3"},t)))}function ht(e,t){_t("SvelteDOMInsert",{target:e,node:t}),R(e,t)}function yt(e,t,n){_t("SvelteDOMInsert",{target:e,node:t,anchor:n}),T(e,t,n)}function vt(e){_t("SvelteDOMRemove",{node:e}),L(e)}function bt(e,t){for(;e.nextSibling&&e.nextSibling!==t;)vt(e.nextSibling)}function $t(e){for(;e.previousSibling;)vt(e.previousSibling)}function kt(e){for(;e.nextSibling;)vt(e.nextSibling)}function xt(e,t,n,a,r,o){const d=!0===a?["capture"]:a?Array.from(Object.keys(a)):[];r&&d.push("preventDefault"),o&&d.push("stopPropagation"),_t("SvelteDOMAddEventListener",{node:e,event:t,handler:n,modifiers:d});const s=B(e,t,n,a);return()=>{_t("SvelteDOMRemoveEventListener",{node:e,event:t,handler:n,modifiers:d}),s()}}function St(e,t,n){V(e,t,n),null==n?_t("SvelteDOMRemoveAttribute",{node:e,attribute:t}):_t("SvelteDOMSetAttribute",{node:e,attribute:t,value:n})}function Ct(e,t,n){e[t]=n,_t("SvelteDOMSetProperty",{node:e,property:t,value:n})}function It(e,t,n){e.dataset[t]=n,_t("SvelteDOMSetDataset",{node:e,property:t,value:n})}function At(e,t){t=""+t,e.data!==t&&(_t("SvelteDOMSetData",{node:e,data:t}),e.data=t)}function wt(e){if(!("string"==typeof e||e&&"object"==typeof e&&"length"in e)){let t="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&e&&Symbol.iterator in e&&(t+=" You can use a spread to convert this iterable into an array."),new Error(t)}}function Et(e,t,n){for(const a of Object.keys(t))~n.indexOf(a)||console.warn(`<${e}> received an unexpected slot "${a}".`)}function Pt(e){const t=Date.now();return()=>{if(Date.now()-t>e)throw new Error("Infinite loop detected")}}var Rt=Math.abs;n.r(t),n.d(t,"HtmlTag",function(){return Dt}),n.d(t,"SvelteComponent",function(){return pn}),n.d(t,"SvelteComponentDev",function(){return un}),n.d(t,"SvelteElement",function(){return ln}),n.d(t,"action_destroyer",function(){return C}),n.d(t,"add_attribute",function(){return it}),n.d(t,"add_classes",function(){return lt}),n.d(t,"add_flush_callback",function(){return Ne}),n.d(t,"add_location",function(){return d}),n.d(t,"add_render_callback",function(){return qe}),n.d(t,"add_resize_listener",function(){return fe}),n.d(t,"add_transform",function(){return $e}),n.d(t,"afterUpdate",function(){return Ie}),n.d(t,"append",function(){return R}),n.d(t,"append_dev",function(){return ht}),n.d(t,"assign",function(){return r}),n.d(t,"attr",function(){return V}),n.d(t,"attr_dev",function(){return St}),n.d(t,"beforeUpdate",function(){return Se}),n.d(t,"bind",function(){return pt}),n.d(t,"binding_callbacks",function(){return Ft}),n.d(t,"blank_object",function(){return i}),n.d(t,"bubble",function(){return Re}),n.d(t,"check_outros",function(){return He}),n.d(t,"children",function(){return ee}),n.d(t,"claim_component",function(){return ct}),n.d(t,"claim_element",function(){return te}),n.d(t,"claim_space",function(){return ae}),n.d(t,"claim_text",function(){return ne}),n.d(t,"clear_loops",function(){return E}),n.d(t,"component_subscribe",function(){return _}),n.d(t,"compute_rest_props",function(){return $}),n.d(t,"createEventDispatcher",function(){return we}),n.d(t,"create_animation",function(){return ve}),n.d(t,"create_bidirectional_transition",function(){return Ve}),n.d(t,"create_component",function(){return ut}),n.d(t,"create_in_transition",function(){return Ye}),n.d(t,"create_out_transition",function(){return Fe}),n.d(t,"create_slot",function(){return h}),n.d(t,"create_ssr_component",function(){return st}),n.d(t,"current_component",function(){return Bt}),n.d(t,"custom_event",function(){return ge}),n.d(t,"dataset_dev",function(){return It}),n.d(t,"debug",function(){return dt}),n.d(t,"destroy_block",function(){return Ge}),n.d(t,"destroy_component",function(){return mt}),n.d(t,"destroy_each",function(){return q}),n.d(t,"detach",function(){return L}),n.d(t,"detach_after_dev",function(){return kt}),n.d(t,"detach_before_dev",function(){return $t}),n.d(t,"detach_between_dev",function(){return bt}),n.d(t,"detach_dev",function(){return vt}),n.d(t,"dirty_components",function(){return jt}),n.d(t,"dispatch_dev",function(){return _t}),n.d(t,"each",function(){return rt}),n.d(t,"element",function(){return N}),n.d(t,"element_is",function(){return U}),n.d(t,"empty",function(){return H}),n.d(t,"escape",function(){return at}),n.d(t,"escaped",function(){return on}),n.d(t,"exclude_internal_props",function(){return b}),n.d(t,"fix_and_destroy_block",function(){return Ke}),n.d(t,"fix_and_outro_and_destroy_block",function(){return Ze}),n.d(t,"fix_position",function(){return be}),n.d(t,"flush",function(){return Ue}),n.d(t,"getContext",function(){return Pe}),n.d(t,"get_binding_group_value",function(){return Z}),n.d(t,"get_current_component",function(){return xe}),n.d(t,"get_slot_changes",function(){return v}),n.d(t,"get_slot_context",function(){return y}),n.d(t,"get_spread_object",function(){return tt}),n.d(t,"get_spread_update",function(){return et}),n.d(t,"get_store_value",function(){return g}),n.d(t,"globals",function(){return nn}),n.d(t,"group_outros",function(){return Me}),n.d(t,"handle_promise",function(){return We}),n.d(t,"has_prop",function(){return Lt}),n.d(t,"identity",function(){return Tt}),n.d(t,"init",function(){return gt}),n.d(t,"insert",function(){return T}),n.d(t,"insert_dev",function(){return yt}),n.d(t,"intros",function(){return Yt}),n.d(t,"invalid_attribute_name_character",function(){return rn}),n.d(t,"is_client",function(){return qt}),n.d(t,"is_crossorigin",function(){return ce}),n.d(t,"is_function",function(){return p}),n.d(t,"is_promise",function(){return o}),n.d(t,"listen",function(){return B}),n.d(t,"listen_dev",function(){return xt}),n.d(t,"loop",function(){return P}),n.d(t,"loop_guard",function(){return Pt}),n.d(t,"missing_component",function(){return dn}),n.d(t,"mount_component",function(){return ft}),n.d(t,"noop",function(){return a}),n.d(t,"not_equal",function(){return c}),n.d(t,"now",function(){return Nt}),n.d(t,"null_to_empty",function(){return x}),n.d(t,"object_without_properties",function(){return O}),n.d(t,"onDestroy",function(){return Ae}),n.d(t,"onMount",function(){return Ce}),n.d(t,"once",function(){return k}),n.d(t,"outro_and_destroy_block",function(){return Xe}),n.d(t,"prevent_default",function(){return j}),n.d(t,"prop_dev",function(){return Ct}),n.d(t,"query_selector_all",function(){return _e}),n.d(t,"raf",function(){return Ut}),n.d(t,"run",function(){return s}),n.d(t,"run_all",function(){return l}),n.d(t,"safe_not_equal",function(){return u}),n.d(t,"schedule_update",function(){return Te}),n.d(t,"select_multiple_value",function(){return ue}),n.d(t,"select_option",function(){return ie}),n.d(t,"select_options",function(){return le}),n.d(t,"select_value",function(){return pe}),n.d(t,"self",function(){return F}),n.d(t,"setContext",function(){return Ee}),n.d(t,"set_attributes",function(){return W}),n.d(t,"set_current_component",function(){return ke}),n.d(t,"set_custom_element_data",function(){return X}),n.d(t,"set_data",function(){return re}),n.d(t,"set_data_dev",function(){return At}),n.d(t,"set_input_type",function(){return de}),n.d(t,"set_input_value",function(){return oe}),n.d(t,"set_now",function(){return I}),n.d(t,"set_raf",function(){return A}),n.d(t,"set_store_value",function(){return S}),n.d(t,"set_style",function(){return se}),n.d(t,"set_svg_attributes",function(){return G}),n.d(t,"space",function(){return M}),n.d(t,"spread",function(){return nt}),n.d(t,"stop_propagation",function(){return Y}),n.d(t,"subscribe",function(){return m}),n.d(t,"svg_element",function(){return z}),n.d(t,"text",function(){return D}),n.d(t,"tick",function(){return Le}),n.d(t,"time_ranges_to_array",function(){return J}),n.d(t,"to_number",function(){return Q}),n.d(t,"toggle_class",function(){return me}),n.d(t,"transition_in",function(){return Be}),n.d(t,"transition_out",function(){return je}),n.d(t,"update_keyed_each",function(){return Qe}),n.d(t,"validate_component",function(){return ot}),n.d(t,"validate_each_argument",function(){return wt}),n.d(t,"validate_each_keys",function(){return Je}),n.d(t,"validate_slots",function(){return Et}),n.d(t,"validate_store",function(){return f}),n.d(t,"xlink_attr",function(){return K});const Tt=(e)=>e,Lt=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),qt="undefined"!=typeof window;let Nt=qt?()=>window.performance.now():()=>Date.now(),Ut=qt?(e)=>requestAnimationFrame(e):a;const Ot=new Set;let zt;class Dt{constructor(e,t=null){this.e=N("div"),this.a=t,this.u(e)}m(e,t=null){for(let n=0;n<this.n.length;n+=1)T(e,this.n[n],t);this.t=e}u(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}p(e){this.d(),this.u(e),this.m(this.t,this.a)}d(){this.n.forEach(L)}}const Mt=new Set;let Ht=0,Bt;const jt=[],Yt={enabled:!1},Ft=[],Vt=[],Wt=[],Gt=Promise.resolve();let Xt=!1,Kt=!1;const Zt=new Set;let Qt;const Jt=new Set;let en;const tn={duration:0},nn="undefined"==typeof window?"undefined"==typeof globalThis?global:globalThis:window,an=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),rn=/[\s'">/=\u{FDD0}-\u{FDEF}\u{FFFE}\u{FFFF}\u{1FFFE}\u{1FFFF}\u{2FFFE}\u{2FFFF}\u{3FFFE}\u{3FFFF}\u{4FFFE}\u{4FFFF}\u{5FFFE}\u{5FFFF}\u{6FFFE}\u{6FFFF}\u{7FFFE}\u{7FFFF}\u{8FFFE}\u{8FFFF}\u{9FFFE}\u{9FFFF}\u{AFFFE}\u{AFFFF}\u{BFFFE}\u{BFFFF}\u{CFFFE}\u{CFFFF}\u{DFFFE}\u{DFFFF}\u{EFFFE}\u{EFFFF}\u{FFFFE}\u{FFFFF}\u{10FFFE}\u{10FFFF}]/u,on={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"},dn={$$render:()=>""};let sn,ln;"function"==typeof HTMLElement&&(ln=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}$destroy(){mt(this,1),this.$destroy=a}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}});class pn{$destroy(){mt(this,1),this.$destroy=a}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}class un extends pn{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}},function(e,t,n){"use strict";function a(e){let t=Object(d.formatNumber)(e[1],e[2])+"",n,a,r,s,i,l,p;return{c(){n=Object(o.element)("li"),a=Object(o.element)("strong"),r=Object(o.text)(e[0]),s=Object(o.text)(":"),i=Object(o.space)(),l=Object(o.text)(t),p=Object(o.text)(e[3])},m(e,t){Object(o.insert)(e,n,t),Object(o.append)(n,a),Object(o.append)(a,r),Object(o.append)(a,s),Object(o.append)(n,i),Object(o.append)(n,l),Object(o.append)(n,p)},p(e,[n]){1&n&&Object(o.set_data)(r,e[0]),6&n&&t!=(t=Object(d.formatNumber)(e[1],e[2])+"")&&Object(o.set_data)(l,t),8&n&&Object(o.set_data)(p,e[3])},i:o.noop,o:o.noop,d(e){e&&Object(o.detach)(n)}}}function r(e,t,n){let{label:a}=t,{value:r}=t,{precision:o=2}=t,{suffix:d=""}=t;return e.$set=(e)=>{"label"in e&&n(0,a=e.label),"value"in e&&n(1,r=e.value),"precision"in e&&n(2,o=e.precision),"suffix"in e&&n(3,d=e.suffix)},[a,r,o,d]}n.r(t);var o=n(2),d=n(4);class s extends o.SvelteComponent{constructor(e){super(),Object(o.init)(this,e,r,a,o.safe_not_equal,{label:0,value:1,precision:2,suffix:3})}}t.default=s},function(e,t,n){"use strict";function a(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2,a=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return(e?r(e,n,a):"-")+(e&&t?t:"")}function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return(n&&0<e?"+":"")+e.toLocaleString(p.default.COUNTRY,{minimumFractionDigits:t,maximumFractionDigits:t})}function o(e){var t=new Intl.RelativeTimeFormat(p.default.COUNTRY,{localeMatcher:"best fit",numeric:"auto",style:"long"}),n=(Date.now()-Object(u.dateFromString)(e))/1e3;return 60>n?t.format(-i(n),"second"):3600>n?t.format(-i(n/60),"minute"):86400>n?t.format(-i(n/3600),"hour"):2592e3>n?t.format(-i(n/86400),"day"):31536e3>n?t.format(-i(n/2592e3),"month"):t.format(-l(n/31536e3),"year")}function d(e,t){return Object.keys(t).reduce((e,n)=>e.replace(new RegExp("\\${"+n+"}","gi"),t[n]),e)}function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.1;return c(l(e/t)*t)}var i=Math.ceil,l=Math.floor;n.r(t),n.d(t,"formatNumberWithSuffix",function(){return a}),n.d(t,"formatNumber",function(){return r}),n.d(t,"formatDate",function(){return o}),n.d(t,"substituteVars",function(){return d}),n.d(t,"round",function(){return c}),n.d(t,"roundToPrecision",function(){return s});var p=n(5),u=n(6),c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n}},function(e,t,n){"use strict";function a(){var e=localStorage.getItem("home_user");return e?JSON.parse(e).id:null}n.r(t),n.d(t,"getMainUserId",function(){return a}),t.default={COUNTRY:"pl",SSE_CHECK_DELAY:500}},function(e,t,n){"use strict";function a(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),a=e.getUTCDate();return Date.UTC(t,n,a,0,0,0,0)}function r(e){return(e=e instanceof Date?e:i(e)).setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}n.r(t),n.d(t,"DAY",function(){return o}),n.d(t,"toUTCDate",function(){return a}),n.d(t,"dayTrunc",function(){return r}),n.d(t,"daysAgo",function(){return d}),n.d(t,"getFirstNotNewerThan",function(){return s}),n.d(t,"dateFromString",function(){return i});var o=864e5,d=(e)=>new Date(new Date().getTime()-e*o),s=(e,t)=>t.map((e)=>parseInt(e)).sort((e,t)=>t-e).reduce((n,a)=>null===n&&a<=e?a:n,null),i=(e)=>e?new Date(Date.parse(e)):null},function(e,t,n){"use strict";function a(e,t,n){const a=e.slice();return a[7]=t[n],a}function r(e,t,n){const a=e.slice();return a[7]=t[n],a}function o(e){let n,a;return{c(){n=Object(u.element)("span"),a=Object(u.text)(e[2]),Object(u.attr)(n,"class","err svelte-1s29rw0")},m(e,t){Object(u.insert)(e,n,t),Object(u.append)(n,a)},p(e,t){4&t&&Object(u.set_data)(a,e[2])},i:u.noop,o:u.noop,d(e){e&&Object(u.detach)(n)}}}function d(e){let t=[],n=new Map,o=[],d=new Map,i,p,c,f,g,_,h,y,v;const b=new m.default({props:{value:e[1]}});let $=e[3];const k=(e)=>e[7];for(let a=0;a<$.length;a+=1){let o=r(e,$,a),d=k(o);n.set(d,t[a]=s(d,o))}let x=e[3];const S=(e)=>e[7];for(let t=0;t<x.length;t+=1){let n=a(e,x,t),r=S(n);d.set(r,o[t]=l(r,n))}return{c(){i=Object(u.element)("span"),Object(u.create_component)(b.$$.fragment),p=Object(u.text)("\n    raw pp new play\n\n    "),c=Object(u.element)("table"),f=Object(u.element)("thead"),g=Object(u.element)("tr");for(let e=0;e<t.length;e+=1)t[e].c();_=Object(u.space)(),h=Object(u.element)("tbody"),y=Object(u.element)("tr");for(let e=0;e<o.length;e+=1)o[e].c();Object(u.attr)(c,"class","svelte-1s29rw0")},m(e,n){Object(u.insert)(e,i,n),Object(u.mount_component)(b,i,null),Object(u.insert)(e,p,n),Object(u.insert)(e,c,n),Object(u.append)(c,f),Object(u.append)(f,g);for(let a=0;a<t.length;a+=1)t[a].m(g,null);Object(u.append)(c,_),Object(u.append)(c,h),Object(u.append)(h,y);for(let t=0;t<o.length;t+=1)o[t].m(y,null);v=!0},p(e,i){const p={};if(2&i&&(p.value=e[1]),b.$set(p),8&i){const a=e[3];t=Object(u.update_keyed_each)(t,i,k,1,e,a,n,g,u.destroy_block,s,null,r)}if(10&i){const t=e[3];Object(u.group_outros)(),o=Object(u.update_keyed_each)(o,i,S,1,e,t,d,y,u.outro_and_destroy_block,l,null,a),Object(u.check_outros)()}},i(e){if(!v){Object(u.transition_in)(b.$$.fragment,e);for(let e=0;e<x.length;e+=1)Object(u.transition_in)(o[e]);v=!0}},o(e){Object(u.transition_out)(b.$$.fragment,e);for(let t=0;t<o.length;t+=1)Object(u.transition_out)(o[t]);v=!1},d(e){e&&Object(u.detach)(i),Object(u.destroy_component)(b),e&&Object(u.detach)(p),e&&Object(u.detach)(c);for(let n=0;n<t.length;n+=1)t[n].d();for(let t=0;t<o.length;t+=1)o[t].d()}}}function s(e,t){let n=t[7]+"",a,r,o;return{key:e,first:null,c(){a=Object(u.element)("th"),r=Object(u.text)(n),o=Object(u.text)("%"),this.first=a},m(e,t){Object(u.insert)(e,a,t),Object(u.append)(a,r),Object(u.append)(a,o)},p:u.noop,d(e){e&&Object(u.detach)(a)}}}function l(e,t){let n,a;const r=new m.default({props:{value:t[1]/f.PP_PER_STAR/Object(f.ppFromScore)(t[7]),suffix:"*"}});return{key:e,first:null,c(){n=Object(u.element)("th"),Object(u.create_component)(r.$$.fragment),this.first=n},m(e,t){Object(u.insert)(e,n,t),Object(u.mount_component)(r,n,null),a=!0},p(e,t){const n={};2&t&&(n.value=e[1]/f.PP_PER_STAR/Object(f.ppFromScore)(e[7])),r.$set(n)},i(e){a||(Object(u.transition_in)(r.$$.fragment,e),a=!0)},o(e){Object(u.transition_out)(r.$$.fragment,e),a=!1},d(e){e&&Object(u.detach)(n),Object(u.destroy_component)(r)}}}function i(e){function t(e){return e[2].length?1:0}let n,a,r,s,i,l,p,c,f,m;const g=[d,o],_=[];return l=t(e),p=_[l]=g[l](e),{c(){n=Object(u.element)("strong"),n.textContent="+",a=Object(u.element)("input"),r=Object(u.space)(),s=Object(u.element)("strong"),s.textContent="pp:",i=Object(u.space)(),p.c(),c=Object(u.empty)(),Object(u.attr)(a,"class","pp-boundary svelte-1s29rw0")},m(t,o,d){Object(u.insert)(t,n,o),Object(u.insert)(t,a,o),Object(u.set_input_value)(a,e[0]),Object(u.insert)(t,r,o),Object(u.insert)(t,s,o),Object(u.insert)(t,i,o),_[l].m(t,o),Object(u.insert)(t,c,o),f=!0,d&&m(),m=Object(u.listen)(a,"input",e[6])},p(e,[n]){1&n&&a.value!==e[0]&&Object(u.set_input_value)(a,e[0]);let r=l;l=t(e),l===r?_[l].p(e,n):(Object(u.group_outros)(),Object(u.transition_out)(_[r],1,1,()=>{_[r]=null}),Object(u.check_outros)(),p=_[l],p||(p=_[l]=g[l](e),p.c()),Object(u.transition_in)(p,1),p.m(c.parentNode,c))},i(){f||(Object(u.transition_in)(p),f=!0)},o(){Object(u.transition_out)(p),f=!1},d(e){e&&Object(u.detach)(n),e&&Object(u.detach)(a),e&&Object(u.detach)(r),e&&Object(u.detach)(s),e&&Object(u.detach)(i),_[l].d(e),e&&Object(u.detach)(c),m()}}}function p(e,t,n){let{scores:a=[]}=t,r="1,00",o=null,d="???",s="";return e.$set=(e)=>{"scores"in e&&n(4,a=e.scores)},e.$$.update=()=>{19&e.$$.dirty&&(/^\s*\d+((,|.)\d+)?$/.test(r)?(n(1,o=Object(f.findRawPp)(a,parseFloat(r.replace(/\s/,"").replace(",",".")))),d=Object(c.formatNumber)(o),n(2,s="")):n(2,s=`Wpisz może jakąś liczbę, ok? 1 jest liczbą, 10 jest, a nawet 100. Ale "${r}"?`))},[r,o,s,[90,91,92,93,94,95],a,d,function(){r=this.value,n(0,r)}]}n.r(t);var u=n(2),c=n(4),f=n(8),m=n(30);class g extends u.SvelteComponent{constructor(e){var t;super(),document.getElementById("svelte-1s29rw0-style")||((t=Object(u.element)("style")).id="svelte-1s29rw0-style",t.textContent=".pp-boundary.svelte-1s29rw0{border:none;background:transparent;font-weight:700;font-size:1rem;width:3rem;text-align:center;margin-right:.25rem;outline:none}.err.svelte-1s29rw0{color:red}table.svelte-1s29rw0{width:auto}",Object(u.append)(document.head,t)),Object(u.init)(this,e,p,i,u.safe_not_equal,{scores:4})}}t.default=g},function(e,t,n){"use strict";function a(e,t,n,a,r,o,d){try{var s=e[o](d),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function d(e){a(i,r,o,d,s,"next",e)}function s(e){a(i,r,o,d,s,"throw",e)}var i=e.apply(t,n);d(void 0)})}}function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e.reduce((e,n,a)=>e+$(.965,a+t)*n,0)}function d(e,t,n){return(n+o(e,t)-o(e,t+1))/$(.965,t)}function s(e,t){if(!e.length)return t;for(var n=e.length-1;0<=n;){var a=e.slice(n),r=o(a,n);if(a.unshift(e[n]),o(a,n)-r>t)return d(e.slice(n+1),n+1,t);n--}return d(e,0,t)}function i(e){return Object.values(e).filter((e)=>0<e.pp).map((e)=>e.pp).sort((e,t)=>t-e).reduce((e,t,n)=>e+$(.965,n)*t,0)}function l(){return p.apply(this,arguments)}function p(){return(p=r(function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n,a;return i(Object.assign({},null===(n=(yield Object(S.getCacheAndConvertIfNeeded)()).users)||void 0===n||null===(a=n[e])||void 0===a?void 0:a.scores,t))})).apply(this,arguments)}function u(){return c.apply(this,arguments)}function c(){return(c=r(function*(e,t,n){var a=yield l(e),r=yield l(e,{[t]:{pp:n}});return{currentTotalPp:a,newTotalPp:r,diff:r-a}})).apply(this,arguments)}function f(){return m.apply(this,arguments)}function m(){return(m=r(function*(e){var t,n;return null===(t=(yield Object(S.getCacheAndConvertIfNeeded)()).users)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.scores})).apply(this,arguments)}function g(){return _.apply(this,arguments)}function _(){return(_=r(function*(e,t){var n;return null===(n=yield f(e))||void 0===n?void 0:n[t]})).apply(this,arguments)}function h(){return y.apply(this,arguments)}function y(){return(y=r(function*(e){var t=yield Object(I.getRankedMaps)(),n,a,r,o,d;return null===(n=Object.values(null===(o=yield Object(S.getCacheAndConvertIfNeeded)())||void 0===o||null===(d=o.users)||void 0===d?void 0:d[e].scores))||void 0===n||null===(a=n.filter((e)=>0<e.pp))||void 0===a||null===(r=a.map((e)=>{var n;return Object.assign({},e,{timeset:Object(C.dateFromString)(e.timeset),stars:null==t||null===(n=t[e.leaderboardId])||void 0===n?void 0:n.stars,acc:e.score/e.maxScoreEx})}))||void 0===r?void 0:r.filter((e)=>e.stars)})).apply(this,arguments)}function v(e,t){var n=Date.now(),a=x(...t.map((t)=>t.stars)),r=t.reduce((t,a)=>{var r=2*k(e-a.stars),o=e>a.stars?r*r*r:1,d=a.timeset||n,s=1/(1+r*(1+x(n-d,0)/1296e6)*o);return t.weight+=s,t.sum+=a.acc*s,t},{weight:0,sum:0}),o=r.weight?r.sum/r.weight:0;if(e>a){var s=2*k(e-a);o/=1+s*s}return o}function b(e){if(!e||0>=e)return 0;var t=w.findIndex((t)=>t.at>=e);if(-1===t)return w[w.length-1].value;if(!t)return w[0].value;var n=w[t-1],a=w[t],r=(e-n.at)/(a.at-n.at);return n.value+(a.value-n.value)*r}var $=Math.pow,k=Math.abs,x=Math.max;n.r(t),n.d(t,"calcPp",function(){return o}),n.d(t,"calcRawPpAtIdx",function(){return d}),n.d(t,"findRawPp",function(){return s}),n.d(t,"getTotalPp",function(){return i}),n.d(t,"getTotalUserPp",function(){return l}),n.d(t,"getWhatIfScore",function(){return u}),n.d(t,"getUserScores",function(){return f}),n.d(t,"getUserSongScore",function(){return g}),n.d(t,"getRankedScores",function(){return h}),n.d(t,"getScoreEstimate",function(){return v}),n.d(t,"PP_PER_STAR",function(){return A}),n.d(t,"ppFromScore",function(){return b});var S=n(9),C=n(6),I=n(29),A=42.114296,w=[{at:0,value:0},{at:45,value:.015},{at:50,value:.03},{at:55,value:.06},{at:60,value:.105},{at:65,value:.16},{at:68,value:.24},{at:70,value:.285},{at:80,value:.563},{at:84,value:.695},{at:88,value:.826},{at:94.5,value:1.015},{at:95,value:1.046},{at:100,value:1.12},{at:110,value:1.18},{at:114,value:1.25}]},function(e,t,n){"use strict";function a(e,t,n,a,r,o,d){try{var s=e[o](d),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function d(e){a(i,r,o,d,s,"next",e)}function s(e){a(i,r,o,d,s,"throw",e)}var i=e.apply(t,n);d(void 0)})}}function o(){return d.apply(this,arguments)}function d(){return(d=r(function*(){var e;if(c.data)return c.data;l.default.info("Data fetch from cache");var t=null!==(e=yield f())&&void 0!==e?e:{version:1.2,lastUpdated:null,users:{},rankedSongs:null,rankedSongsLastUpdated:null};if(1===t.version){var n=yield Object(p.fetchRankedSongsArray)(),a=!1;t.rankedSongs=Object(p.convertFetchedRankedSongsToObj)(n.filter((e)=>(221711===e.leaderboardId&&(a=!0),a))),t.version=1.1,t.rankedSongsLastUpdated=JSON.parse(JSON.stringify(new Date))}if(1.1===t.version){var r=Date.parse("2020-06-17T00:00:00.000Z");if(Object(u.dateFromString)(t.lastUpdated).getTime()>r){t.lastUpdated="2020-06-17T00:00:00.000Z";var o=Object(u.dateFromString)(t.lastUpdated);Object.values(t.users).map((e)=>e.lastUpdated=o)}t.version=1.2}return c.data=t,t})).apply(this,arguments)}function s(){return i.apply(this,arguments)}function i(){return(i=r(function*(e){return c.data=e,window.localforage.setItem("sspl_users",e)})).apply(this,arguments)}n.r(t),n.d(t,"Globals",function(){return c}),n.d(t,"lastUpdated",function(){return m}),n.d(t,"isAnyData",function(){return g}),n.d(t,"getCacheAndConvertIfNeeded",function(){return o}),n.d(t,"setCache",function(){return s});var l=n(10),p=n(13),u=n(6),c={data:null},f=function(){var e=r(function*(){return new Promise((e)=>window.localforage.getItem("sspl_users",function(t,n){e(n)}))});return function(){return e.apply(this,arguments)}}(),m=function(){var e=r(function*(){return(yield o()).lastUpdated});return function(){return e.apply(this,arguments)}}(),g=function(){var e=r(function*(){return yield o(),c.data&&Object.keys(c.data.users).length});return function(){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.r(t);var a=n(11),r=n.n(a);t.default={info:(e)=>console.info("[".concat(r.a.header.name,"]"),e),debug:(e)=>console.debug("[".concat(r.a.header.name,"]"),e),warn:(e)=>console.warn("[".concat(r.a.header.name,"]"),e),error:(e)=>console.error("[".concat(r.a.header.name,"]"),e)}},function(e,t,n){var a=n(12);e.exports.config={entry:"./src/index.js"},e.exports.header=a,e.exports.buildedHeader=()=>{var e=[];for(var t in e.push("// ==UserScript=="),a)if(Array.isArray(a[t]))for(var n in 0<a[t].length&&e.push("//"),a[t])e.push("// @"+t.padEnd(13)+a[t][n]);else e.push("// @"+t.padEnd(13)+a[t]);return e.push("// ==/UserScript=="),e.push(""),e.join("\n")}},function(e){e.exports=JSON.parse("{\"name\":\"ScoreSaber country leaderboard\",\"namespace\":\"https://motzel.dev\",\"version\":\"0.7.7\",\"description\":\"Add country leaderboard tab\",\"author\":\"motzel\",\"icon\":\"https://scoresaber.com/imports/images/logo.ico\",\"updateURL\":\"https://github.com/motzel/ScoreSaberCountryLeaderboard/raw/master/dist/scoresaber-country-leaderboard.user.js\",\"downloadURL\":\"https://github.com/motzel/ScoreSaberCountryLeaderboard/raw/master/dist/scoresaber-country-leaderboard.user.js\",\"supportURL\":\"https://github.com/motzel/ScoreSaberCountryLeaderboard/issues\",\"match\":[\"https://scoresaber.com/leaderboard/*\",\"https://scoresaber.com/u/*\"],\"include\":[\"/^https://scoresaber\\\\.com\\\\/global(\\\\/\\\\d+&country=pl|\\\\?country=pl)/\"],\"require\":[\"https://cdnjs.cloudflare.com/ajax/libs/localforage/1.7.3/localforage.min.js\"],\"grant\":[\"GM_addStyle\",\"GM_info\",\"GM_xmlhttpRequest\"],\"run-at\":\"document-end\"}")},function(e,t,n){"use strict";function a(e,t,n,a,r,o,d){try{var s=e[o](d),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function d(e){a(i,r,o,d,s,"next",e)}function s(e){a(i,r,o,d,s,"throw",e)}var i=e.apply(t,n);d(void 0)})}}function o(){return d.apply(this,arguments)}function d(){return(d=r(function*(){var e=yield g();if(!e)return null;var t=yield Object(i.getCacheAndConvertIfNeeded)(),n=t.rankedSongs?t.rankedSongs:{};return{allRanked:e,newRanked:Object(l.arrayIntersection)(Object.keys(e),Object.keys(n)).map((t)=>e[t]),changed:Object.values(n).filter((t)=>{var n;return t.stars!==(null==e||null===(n=e[t.leaderboardId])||void 0===n?void 0:n.stars)}).map((t)=>{var n;return Object.assign({},t,{oldStars:t.stars,stars:Object(l.nullIfUndefined)(null==e||null===(n=e[t.leaderboardId])||void 0===n?void 0:n.stars)})})}})).apply(this,arguments)}n.r(t),n.d(t,"convertFetchedRankedSongsToObj",function(){return f}),n.d(t,"fetchRankedSongsArray",function(){return m}),n.d(t,"fetchRankedSongs",function(){return g}),n.d(t,"getNewlyRanked",function(){return o});var s=n(14),i=n(9),l=n(15),p=n(16),u=n(17),c=n(24),f=(e)=>e.length?e.reduce((e,t)=>(e[t.leaderboardId]=t,e),{}):null,m=function(){var e=r(function*(){return Object(s.fetchApiPage)(u.default.SCORESABER,p.SCORESABER_URL+"/api.php?function=get-leaderboards&cat=1&page=1&limit=5000&ranked=1").then((e)=>(null==e?void 0:e.songs)?null==e?void 0:e.songs.map((e)=>({leaderboardId:e.uid,id:e.id,name:e.name+" "+e.songSubName,songAuthor:e.songAuthorName,levelAuthor:e.levelAuthorName,diff:Object(c.extractDiffAndType)(e.diff),stars:e.stars,oldStars:null})):[])});return function(){return e.apply(this,arguments)}}(),g=function(){var e=r(function*(){return f((yield m()))});return function(){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function r(e){for(var t=1,n;t<arguments.length;t++)n=null==arguments[t]?{}:arguments[t],t%2?a(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))});return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,a,r,o,d){try{var s=e[o](d),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){function o(e){d(i,a,r,o,s,"next",e)}function s(e){d(i,a,r,o,s,"throw",e)}var i=e.apply(t,n);o(void 0)})}}function i(){return l.apply(this,arguments)}function l(){return(l=s(function*(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:3,o=void 0,r=0,d;r<a;r++){try{yield e.add(()=>t().then((e)=>o=e).catch((t)=>{t instanceof y&&(r=a),d=t}))}catch(a){console.warn(a.name),d=new v(e.timeout,"Your time has come"),n&&n.abort&&n.abort()}if(void 0!==o)return Promise.resolve(o)}throw d})).apply(this,arguments)}function p(){return u.apply(this,arguments)}function u(){return(u=s(function*(e,t,n){var a=new AbortController().signal;return i(e,()=>window.fetch(t,r(r({},n),{},{signal:a,mode:"cors"})).then(function(){var e=s(function*(e){if(429===e.status){var t=parseInt(e.headers.get("x-ratelimit-reset"),10),n=t&&!isNaN(t)?new Date(1e3*t).getTime()-new Date().getTime():null;throw n&&0<n&&(yield h(n)),new Error("Rate limit")}if([404,403].includes(e.status))throw new b("404 Not Found");return e});return function(){return e.apply(this,arguments)}}()))})).apply(this,arguments)}function c(){return f.apply(this,arguments)}function f(){return(f=s(function*(e,t,n){return p(e,t,n).then((e)=>e.json())})).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=s(function*(e,t,n){return p(e,t,n).then((e)=>e.text()).then((e)=>new DOMParser().parseFromString(e,"text/html"))})).apply(this,arguments)}n.r(t),n.d(t,"SsplError",function(){return y}),n.d(t,"TimeoutError",function(){return v}),n.d(t,"NotFoundError",function(){return b}),n.d(t,"queueRetriedPromise",function(){return i}),n.d(t,"queueFetch",function(){return p}),n.d(t,"queueFetchJson",function(){return c}),n.d(t,"queueFetchHtml",function(){return m}),n.d(t,"fetchHtmlPage",function(){return $}),n.d(t,"fetchApiPage",function(){return k});var _=n(4),h=function(){var e=s(function*(e,t){return new Promise((n)=>setTimeout(()=>n(t),e))});return function(){return e.apply(this,arguments)}}();class y extends Error{constructor(e){super(e),this.name="SsplError"}}class v extends y{constructor(e,t){super(t),this.name="TimeoutError",this.timeout=e}}class b extends y{constructor(e){super(e),this.name="NotFoundError"}}var $=function(){var e=s(function*(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return m(e,Object(_.substituteVars)(t,{page:n})).catch(()=>new DOMParser().parseFromString("","text/html"))});return function(){return e.apply(this,arguments)}}(),k=function(){var e=s(function*(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return c(e,Object(_.substituteVars)(t,{page:n})).catch(()=>null)});return function(){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",function(){return a}),n.d(t,"isEmpty",function(){return r}),n.d(t,"convertArrayToObjectByKey",function(){return o}),n.d(t,"arrayIntersection",function(){return d}),n.d(t,"nullIfUndefined",function(){return s}),n.d(t,"defaultIfFalsy",function(){return i}),n.d(t,"getFirstRegexpMatch",function(){return l}),n.d(t,"escapeHtml",function(){return p});var a=(e)=>e.charAt(0).toUpperCase()+e.slice(1),r=(e)=>0===Object.keys(e).length&&e.constructor===Object,o=(e,t)=>e.reduce((e,n)=>(e[n[t]]=n,e),{}),d=(e,t)=>e.filter((e)=>!t.includes(e)),s=(e)=>void 0===e?null:e,i=(e,t)=>e||t,l=(e,t)=>{var n=e.exec(t);return n?n[1]:null},p=(e)=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},function(e,t,n){"use strict";n.r(t),n.d(t,"SCORESABER_URL",function(){return r}),n.d(t,"NEW_SCORESABER_URL",function(){return o}),n.d(t,"SCORESABER_API_URL",function(){return d}),n.d(t,"PLAYER_INFO_URL",function(){return s}),n.d(t,"USERS_URL",function(){return i}),n.d(t,"SCORES_URL",function(){return l}),n.d(t,"SCORES_PER_PAGE",function(){return p}),n.d(t,"PLAYS_PER_PAGE",function(){return u}),n.d(t,"PLAYERS_PER_PAGE",function(){return c}),n.d(t,"MAGIC_HISTORY_NUMBER",function(){return f}),n.d(t,"RATE_LIMITS",function(){return m});var a=n(5),r="https://scoresaber.com",o="https://new.scoresaber.com",d=o+"/api",s=d+"/player/${userId}/full",i=r+"/global/${page}?country="+a.default.COUNTRY,l=d+"/player/${userId}/scores/recent/${page}",p=12,u=8,c=50,f=999999,m={concurrency:8,limit:50,time:6e4}},function(e,t,n){"use strict";n.r(t);var a=n(18),r=n.n(a);t.default={SCORESABER:new r.a({concurrency:3,timeout:8e3,throwOnTimeout:!0,intervalCap:80,interval:6e4}),SCORESABER_API:new r.a({concurrency:8,timeout:8e3,throwOnTimeout:!0,intervalCap:80,interval:6e4}),BEATSAVER:new r.a({concurrency:8,timeout:8e3,throwOnTimeout:!0,intervalCap:10,interval:1e3})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(19),r=n(20),o=n(22),d=()=>{},s=new r.TimeoutError;t.default=class extends a{constructor(e){var t,n,a,r;if(super(),Object.defineProperty(this,"_carryoverConcurrencyCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isIntervalIgnored",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_intervalCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_intervalCap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_intervalEnd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_intervalId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_timeoutId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_queueClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pendingCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_concurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isPaused",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_resolveEmpty",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_resolveIdle",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_throwOnTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},e)).intervalCap&&1<=e.intervalCap))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&0<=e.interval))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(r=null===(a=e.interval)||void 0===a?void 0:a.toString())&&void 0!==r?r:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother()}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=d,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=d,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(0>t))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this._queue.dequeue()(),e&&this._initializeIntervalIfNeeded(),!0}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&1<=e))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,a)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{const o=void 0===this._timeout&&void 0===t.timeout?e():r.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&a(s)});n((await o))}catch(e){a(e)}this._next()},t),this._tryToStartAnother()})}async addAll(e,t){return Promise.all(e.map(async(e)=>this.add(e,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e)=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e)=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},function(e){"use strict";function t(){}function n(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,a,r,o){if("function"!=typeof a)throw new TypeError("The listener must be a function");var d=new n(a,r||e,o),i=s?s+t:t;return e._events[i]?e._events[i].fn?e._events[i]=[e._events[i],d]:e._events[i].push(d):(e._events[i]=d,e._eventsCount++),e}function r(e,n){0==--e._eventsCount?e._events=new t:delete e._events[n]}function o(){this._events=new t,this._eventsCount=0}var d=Object.prototype.hasOwnProperty,s="~";Object.create&&(t.prototype=Object.create(null),new t().__proto__||(s=!1)),o.prototype.eventNames=function(){var e=[],t,n;if(0===this._eventsCount)return e;for(n in t=this._events)d.call(t,n)&&e.push(s?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},o.prototype.listeners=function(e){var t=s?s+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,r=n.length,o=Array(r);a<r;a++)o[a]=n[a].fn;return o},o.prototype.listenerCount=function(e){var t=s?s+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,a,r,o){var d=s?s+e:e;if(!this._events[d])return!1;var l=this._events[d],p=arguments.length,u,c;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),p){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,a),!0;case 5:return l.fn.call(l.context,t,n,a,r),!0;case 6:return l.fn.call(l.context,t,n,a,r,o),!0;}for(c=1,u=Array(p-1);c<p;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var i=l.length,f;for(c=0;c<i;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),p){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,a);break;default:if(!u)for(f=1,u=Array(p-1);f<p;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u);}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,n,a){var o=s?s+e:e;if(!this._events[o])return this;if(!t)return r(this,o),this;var d=this._events[o];if(d.fn)d.fn!==t||a&&!d.once||n&&d.context!==n||r(this,o);else{for(var l=0,i=[],p=d.length;l<p;l++)(d[l].fn!==t||a&&!d[l].once||n&&d[l].context!==n)&&i.push(d[l]);i.length?this._events[o]=1===i.length?i[0]:i:r(this,o)}return this},o.prototype.removeAllListeners=function(e){var n;return e?(n=s?s+e:e,this._events[n]&&r(this,n)):(this._events=new t,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=s,o.EventEmitter=o,e.exports=o},function(e,t,n){"use strict";const a=n(21);class r extends Error{constructor(e){super(e),this.name="TimeoutError"}}const o=(e,t,n)=>new Promise((o,d)=>{if("number"!=typeof t||0>t)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void o(e);const s=setTimeout(()=>{if("function"==typeof n){try{o(n())}catch(e){d(e)}return}const a=n instanceof Error?n:new r("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),d(a)},t);a(e.then(o,d),()=>{clearTimeout(s)})});e.exports=o,e.exports.default=o,e.exports.TimeoutError=r},function(e){"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e)=>new Promise((e)=>{e(t())}).then(()=>e),(e)=>new Promise((e)=>{e(t())}).then(()=>{throw e})))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(23);t.default=class{constructor(){Object.defineProperty(this,"_queue",{enumerable:!0,configurable:!0,writable:!0,value:[]})}enqueue(e,t){const n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(n);const r=a.default(this._queue,n,(e,t)=>t.priority-e.priority);this._queue.splice(r,0,n)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t)=>t.priority===e.priority).map((e)=>e.run)}get size(){return this._queue.length}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let a=0,r=e.length;for(;0<r;){const o=0|r/2;let d=a+o;0>=n(e[d],t)?(a=++d,r-=o+1):r=o}return a}},function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n=function(e,t){if(null==e)return{};var n={},a=Object.keys(e),r,o;for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t),a,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],0<=t.indexOf(a)||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function r(e,t,n,a,r,o,d){try{var s=e[o](d),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,r)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){function d(e){r(i,a,o,d,s,"next",e)}function s(e){r(i,a,o,d,s,"throw",e)}var i=e.apply(t,n);d(void 0)})}}function d(e){var t={easy:"MediumSeaGreen",normal:"#59b0f4",hard:"tomato",expert:"#bf2a42",expertPlus:"#8f48db"};return t[e.diff]?t[e.diff]:null}function s(e){return Object(m.capitalize)(e.diff).replace("ExpertPlus","Expert+")+("Standard"===e.type?"":"/"+e.type)}function i(e){var t=/^_([^_]+)_Solo(.*)$/.exec(e),n;return t?{diff:t[1].toLowerCase().replace("plus","Plus"),type:null!==(n=t[2])&&void 0!==n?n:"Standard"}:null}function l(e,t){if(!e)return null;var n=i(t);return n?e.reduce((e,t)=>{var a;return t.name===n.type?null===(a=t.difficulties)||void 0===a?void 0:a[n.diff]:e},null):null}function p(){return u.apply(this,arguments)}function u(){return(u=o(function*(e,t){var n=yield Object(g.getCacheAndConvertIfNeeded)(),r=e?yield Object(h.getSongByHash)(e):null,o=null==r||null===(i=r.metadata)||void 0===i?void 0:i.characteristics,d=null,s=0,i;return Object(y.filterByCountry)(n.users).reduce((e,r)=>{if(!n.users[r].scores[t])return e;var i,p;s||e.length||(d=l(o,n.users[r].scores[t].diff),s=(null===(i=d)||void 0===i?void 0:i.length)&&(null===(p=d)||void 0===p?void 0:p.notes)?v(d.notes):0);var u=n.users[r],{scores:c}=u,f=a(u,["scores"]),m=n.users[r].scores[t],{score:g,timeset:_,rank:h,mods:y,pp:b,maxScoreEx:$,diff:k,history:x}=m,S=(a(m,["score","timeset","rank","mods","pp","maxScoreEx","diff","history"]),(x||[]).sort((e,t)=>t.timestamp-e.timestamp).map((e)=>Object.assign({},e,{timeset:new Date(e.timestamp),percent:s?e.score/s:$?e.score/$:null})));return e.push(Object.assign({},f,{score:g,timeset:_,rank:h,mods:y,pp:b,playHistory:S,percent:s?g/s:$?g/$:null})),e},[]).map((e)=>Object.assign({},e,{hidden:Object(_.shouldBeHidden)(e)})).sort((e,t)=>t.score-e.score)})).apply(this,arguments)}function c(){return f.apply(this,arguments)}function f(){return(f=o(function*(e,t){var n=yield Object(h.getSongByHash)(e),a=l(null==n||null===(r=n.metadata)||void 0===r?void 0:r.characteristics,t),r;return(null==a?void 0:a.length)&&(null==a?void 0:a.notes)?v(a.notes):0})).apply(this,arguments)}n.r(t),n.d(t,"getDiffColor",function(){return d}),n.d(t,"getHumanDiffName",function(){return s}),n.d(t,"getMaxScore",function(){return v}),n.d(t,"extractDiffAndType",function(){return i}),n.d(t,"findDiffInfo",function(){return l}),n.d(t,"getLeaderboard",function(){return p}),n.d(t,"getSongMaxScore",function(){return c});var m=n(15),g=n(9),_=n(25),h=n(26),y=n(27),v=function(e){var t=Math.min,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:115;return Math.floor((14<=e?8*n*(e-13):0)+(6<=e?4*n*(t(e,13)-5):0)+(2<=e?2*n*(t(e,5)-1):0)+t(e,1)*n)}},function(e,t,n){"use strict";function a(e){return o.reduce((t,n)=>t||n.reduce((t,n)=>{var a=null==e?void 0:e[null==n?void 0:n.field],o=!0;switch(null==n?void 0:n.cond){case"===":o=a===(null==n?void 0:n.value);break;case"<":o=a<(null==n?void 0:n.value);break;case">":o=a>(null==n?void 0:n.value);break;default:r.default.error("Unknown condition: ",null==n?void 0:n.cond),o=!1;}return t&&o},!0),!1)}n.r(t),n.d(t,"shouldBeHidden",function(){return a});var r=n(10),o=[[{field:"id",value:"76561198165064325",cond:"==="},{field:"percent",value:.85,cond:"<"}]]},function(e,t,n){"use strict";function a(e,t,n,a,r,o,d){try{var s=e[o](d),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function d(e){a(i,r,o,d,s,"next",e)}function s(e){a(i,r,o,d,s,"throw",e)}var i=e.apply(t,n);d(void 0)})}}function o(){return d.apply(this,arguments)}function d(){return(d=r(function*(e){var t=yield Object(p.getCacheAndConvertIfNeeded)();return delete e.description,t.beatSaver||(t.beatSaver={hashes:{},keys:{}}),e.hash&&(t.beatSaver.hashes[e.hash.toLowerCase()]=e,e.key&&(t.beatSaver.keys[e.key.toLowerCase()]=e.hash)),yield Object(p.setCache)(t),e})).apply(this,arguments)}n.r(t),n.d(t,"getSongByHash",function(){return c}),n.d(t,"getSongByKey",function(){return f});var s=n(14),i=n(4),l=n(17),p=n(9),u=n(10),c=function(){var e=r(function*(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e=e.toLowerCase();var n=yield Object(p.getCacheAndConvertIfNeeded)();if(!t&&n.beatSaver&&n.beatSaver.hashes&&n.beatSaver.hashes[e])return Promise.resolve(n.beatSaver.hashes[e]);var a=yield Object(s.fetchApiPage)(l.default.BEATSAVER,Object(i.substituteVars)("https://beatsaver.com/api/maps/by-hash/${hash}",{hash:e}));return a?o(a):(u.default.warn("Song with ".concat(e," hash is no longer available at Beat Saver.")),Promise.resolve(null))});return function(){return e.apply(this,arguments)}}(),f=function(){var e=r(function*(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e=e.toLowerCase();var n=yield Object(p.getCacheAndConvertIfNeeded)();if(!t&&n.beatSaver&&n.beatSaver.keys&&n.beatSaver.keys[e]&&n.beatSaver.hashes&&n.beatSaver.hashes[n.beatSaver.keys[e]])return Promise.resolve(n.beatSaver.hashes[n.beatSaver.keys[e]]);var a=yield Object(s.fetchApiPage)(l.default.BEATSAVER,Object(i.substituteVars)("https://beatsaver.com/api/maps/detail/${key}",{key:e}));return a?o(a):(u.default.warn("Song with ".concat(e," key is no longer available at Beat Saver.")),Promise.resolve(null))});return function(){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.r(t),n.d(t,"isActiveCountryUser",function(){return o}),n.d(t,"filterByCountry",function(){return d}),n.d(t,"mapUsersToObj",function(){return s});var a=n(28),r=n(5),o=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:r.default.COUNTRY;return!e.inactive&&(Object(a.getAdditionalPlayers)().includes(e.id)||e.country.toLowerCase()===t.toLowerCase())},d=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:r.default.COUNTRY;return Object.keys(e).filter((t)=>o(e[t]),t)},s=(e,t)=>e.reduce((e,n)=>(e[n]=t[n],e),{})},function(e,t,n){"use strict";function a(e,t,n,a,r,o,d){try{var s=e[o](d),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function d(e){a(i,r,o,d,s,"next",e)}function s(e){a(i,r,o,d,s,"throw",e)}var i=e.apply(t,n);d(void 0)})}}function o(e,t){if(null==e)return{};var n=function(e,t){if(null==e)return{};var n={},a=Object.keys(e),r,o;for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t),a,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],0<=t.indexOf(a)||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}n.r(t),n.d(t,"USER_PROFILE_URL",function(){return m}),n.d(t,"ADDITIONAL_COUNTRY_PLAYERS_IDS",function(){return g}),n.d(t,"getAdditionalPlayers",function(){return _}),n.d(t,"convertPlayerInfo",function(){return h}),n.d(t,"fetchPlayerInfo",function(){return y}),n.d(t,"fetchUsers",function(){return v});var d=n(4),s=n(14),i=n(15),l=n(16),p=n(17),u=n(5),c=n(6),f=n(9),m=l.SCORESABER_URL+"/u/${userId}",g={pl:["76561198967371424","76561198093469724"]},_=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u.default.COUNTRY,t;return null!==(t=g[e])&&void 0!==t?t:[]},h=(e)=>{var t=e.playerInfo,{playerName:n,playerId:a,role:r,badges:s,permissions:i,banned:l,history:p}=t,u=o(t,["playerName","playerId","role","badges","permissions","banned","history"]);return u.inactive=!!u.inactive,Object.assign({id:a,name:n,url:Object(d.substituteVars)(m,{userId:a}),lastUpdated:null,lastPlay:null,userHistory:{},scores:{}},u,{stats:e.scoreStats})},y=function(){var e=r(function*(e){return Object(s.fetchApiPage)(p.default.SCORESABER_API,Object(d.substituteVars)(l.PLAYER_INFO_URL,{userId:e})).then((e)=>{var t=null==e||null===(n=e.playerInfo)||void 0===n?void 0:n.history.split(",").reverse(),n;return e.playerInfo.weeklyDiff=t?7<=t.length?t[6]-t[0]:0:null,e})});return function(){return e.apply(this,arguments)}}(),v=function(){var e=r(function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=yield Object(f.getCacheAndConvertIfNeeded)();return yield Promise.all([...(yield Object(s.fetchHtmlPage)(p.default.SCORESABER,l.USERS_URL,e)).querySelectorAll(".ranking.global .player a")].map((e)=>{var t=e.closest("tr");return{playerInfo:{playerId:Object(i.getFirstRegexpMatch)(/\/(\d+)$/,e.href),playerName:e.querySelector(".songTop.pp").innerText,avatar:t.querySelector("td.picture img").src,countryRank:parseInt(Object(i.getFirstRegexpMatch)(/^\s*#(\d+)\s*$/,t.querySelector("td.rank").innerText),10),pp:parseFloat(Object(i.getFirstRegexpMatch)(/^\s*([0-9,.]+)\s*$/,t.querySelector("td.pp .scoreTop.ppValue").innerText).replace(/[^0-9.]/,"")),country:Object(i.getFirstRegexpMatch)(/^.*?\/flags\/([^.]+)\..*$/,t.querySelector("td.player img").src).toUpperCase(),inactive:!1,weeklyDiff:parseInt(t.querySelector("td.diff").innerText,10)},scoreStats:{}}}).concat(_().map((e)=>({playerInfo:{playerId:e,inactive:!1}}))).map(function(){var e=r(function*(e){var n=null===(a=t.users)||void 0===a||null===(r=a[e.playerInfo.playerId])||void 0===r?void 0:r.lastUpdated,a,r,o;return e.scoreStats&&(null===(o=t.users)||void 0===o?void 0:o[e.playerInfo.playerId])&&n&&Object(c.dayTrunc)(n).getTime()===Object(c.dayTrunc)(new Date).getTime()?Object.assign({},t.users[e.playerInfo.playerId],e):h((yield y(e.playerInfo.playerId)))});return function(){return e.apply(this,arguments)}}()))});return function(){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";function a(e,t,n,a,r,o,d){try{var s=e[o](d),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,r)}n.r(t),n.d(t,"getRankedMaps",function(){return o});var r=n(9),o=function(){var e=(t=function*(){return(yield Object(r.getCacheAndConvertIfNeeded)()).rankedSongs},function(){var e=this,n=arguments;return new Promise(function(r,o){function d(e){a(i,r,o,d,s,"next",e)}function s(e){a(i,r,o,d,s,"throw",e)}var i=t.apply(e,n);d(void 0)})}),t;return function(){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";function a(e){let n,a,t;return{c(){n=Object(d.element)("small"),a=Object(d.text)(e[3]),Object(d.attr)(n,"class",t=Object(d.null_to_empty)(e[4])+" svelte-1sp9ob1"),Object(d.attr)(n,"title",e[2])},m(e,t){Object(d.insert)(e,n,t),Object(d.append)(n,a)},p(e,r){8&r&&Object(d.set_data)(a,e[3]),16&r&&t!==(t=Object(d.null_to_empty)(e[4])+" svelte-1sp9ob1")&&Object(d.attr)(n,"class",t),4&r&&Object(d.attr)(n,"title",e[2])},d(e){e&&Object(d.detach)(n)}}}function r(e){let n=e[0]&&a(e),r,t;return{c(){r=Object(d.text)(e[1]),n&&n.c(),t=Object(d.empty)()},m(e,a){Object(d.insert)(e,r,a),n&&n.m(e,a),Object(d.insert)(e,t,a)},p(e,[o]){2&o&&Object(d.set_data)(r,e[1]),e[0]?n?n.p(e,o):(n=a(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:d.noop,o:d.noop,d(e){e&&Object(d.detach)(r),n&&n.d(e),e&&Object(d.detach)(t)}}}function o(e,t,n){let{value:a=0}=t,{prevValue:r=null}=t,{zero:o="0,00"}=t,{digits:d=2}=t,{withSign:i=!1}=t,{suffix:l=""}=t,{withZeroSuffix:p=!1}=t,{inline:u=!1}=t,c,f,m,g;return e.$set=(e)=>{"value"in e&&n(5,a=e.value),"prevValue"in e&&n(0,r=e.prevValue),"zero"in e&&n(6,o=e.zero),"digits"in e&&n(7,d=e.digits),"withSign"in e&&n(8,i=e.withSign),"suffix"in e&&n(9,l=e.suffix),"withZeroSuffix"in e&&n(10,p=e.withZeroSuffix),"inline"in e&&n(11,u=e.inline)},e.$$.update=()=>{2016&e.$$.dirty&&n(1,c=a?Object(s.formatNumber)(a,d,i)+l:o+(p?l:"")),897&e.$$.dirty&&n(2,f=r?Object(s.formatNumber)(r,d,i)+l:""),673&e.$$.dirty&&n(3,m=r?Object(s.formatNumber)(a-r,d,!0)+l:""),2081&e.$$.dirty&&n(4,g=(r?0<a-r?"inc":0>a-r?"dec":"zero":"")+(u?" inline":" block"))},[r,c,f,m,g,a,o,d,i,l,p,u]}n.r(t);var d=n(2),s=n(4);class i extends d.SvelteComponent{constructor(e){var t;super(),document.getElementById("svelte-1sp9ob1-style")||((t=Object(d.element)("style")).id="svelte-1sp9ob1-style",t.textContent="small.block.svelte-1sp9ob1{display:block}small.inline.svelte-1sp9ob1{margin-left:.5rem}",Object(d.append)(document.head,t)),Object(d.init)(this,e,o,r,d.safe_not_equal,{value:5,prevValue:0,zero:6,digits:7,withSign:8,suffix:9,withZeroSuffix:10,inline:11})}}t.default=i},function(e,t,n){"use strict";function a(e,t,n){const a=e.slice();return a[6]=t[n],a[8]=n,a}function r(e,t){let n,a,r,o,d,f,g,_,y,v,b,$,k,x;const S=new h.default({props:{url:t[6].avatar}}),C=new i.default({props:{rank:t[8]+1,url:"/global/"+encodeURIComponent(s(t[6].rank/m.PLAYERS_PER_PAGE))}}),I=new p.default({props:{user:t[6]}}),A=new u.default({props:{pp:t[6].pp,zero:"0,00",prevPp:t[6].prevPp,inline:!0}}),w=new c.default({props:{value:t[6].change?t[6].change:0,zero:"0",digits:0,withSign:!0}});return{key:e,first:null,c(){n=Object(l.element)("tr"),a=Object(l.element)("td"),Object(l.create_component)(S.$$.fragment),r=Object(l.space)(),o=Object(l.element)("td"),Object(l.create_component)(C.$$.fragment),d=Object(l.space)(),f=Object(l.element)("td"),Object(l.create_component)(I.$$.fragment),g=Object(l.space)(),_=Object(l.element)("td"),Object(l.create_component)(A.$$.fragment),y=Object(l.space)(),v=Object(l.element)("td"),Object(l.create_component)(w.$$.fragment),$=Object(l.space)(),Object(l.attr)(a,"class","picture svelte-1fjn7x5"),Object(l.attr)(o,"class","rank"),Object(l.attr)(f,"class","player"),Object(l.attr)(_,"class","pp"),Object(l.attr)(v,"class",b="diff "+(t[6].change?0<t[6].change?"inc":"dec":"")),Object(l.attr)(n,"style",k=t[1]===t[6].id?"background-color: var(--color-highlight);":""),this.first=n},m(e,t){Object(l.insert)(e,n,t),Object(l.append)(n,a),Object(l.mount_component)(S,a,null),Object(l.append)(n,r),Object(l.append)(n,o),Object(l.mount_component)(C,o,null),Object(l.append)(n,d),Object(l.append)(n,f),Object(l.mount_component)(I,f,null),Object(l.append)(n,g),Object(l.append)(n,_),Object(l.mount_component)(A,_,null),Object(l.append)(n,y),Object(l.append)(n,v),Object(l.mount_component)(w,v,null),Object(l.append)(n,$),x=!0},p(e,t){const a={};1&t&&(a.url=e[6].avatar),S.$set(a);const r={};1&t&&(r.rank=e[8]+1),1&t&&(r.url="/global/"+encodeURIComponent(s(e[6].rank/m.PLAYERS_PER_PAGE))),C.$set(r);const o={};1&t&&(o.user=e[6]),I.$set(o);const d={};1&t&&(d.pp=e[6].pp),1&t&&(d.prevPp=e[6].prevPp),A.$set(d);const i={};1&t&&(i.value=e[6].change?e[6].change:0),w.$set(i),(!x||1&t&&b!==(b="diff "+(e[6].change?0<e[6].change?"inc":"dec":"")))&&Object(l.attr)(v,"class",b),(!x||1&t&&k!==(k=e[1]===e[6].id?"background-color: var(--color-highlight);":""))&&Object(l.attr)(n,"style",k)},i(e){x||(Object(l.transition_in)(S.$$.fragment,e),Object(l.transition_in)(C.$$.fragment,e),Object(l.transition_in)(I.$$.fragment,e),Object(l.transition_in)(A.$$.fragment,e),Object(l.transition_in)(w.$$.fragment,e),x=!0)},o(e){Object(l.transition_out)(S.$$.fragment,e),Object(l.transition_out)(C.$$.fragment,e),Object(l.transition_out)(I.$$.fragment,e),Object(l.transition_out)(A.$$.fragment,e),Object(l.transition_out)(w.$$.fragment,e),x=!1},d(e){e&&Object(l.detach)(n),Object(l.destroy_component)(S),Object(l.destroy_component)(C),Object(l.destroy_component)(I),Object(l.destroy_component)(A),Object(l.destroy_component)(w)}}}function o(e){let t=[],n=new Map,o=e[0],d,s,i,p,u;const c=(e)=>e[6].id;for(let d=0;d<o.length;d+=1){let s=a(e,o,d),i=c(s);n.set(i,t[d]=r(i,s))}return{c(){d=Object(l.element)("table"),s=Object(l.element)("thead"),s.innerHTML="<tr><th class=\"picture svelte-1fjn7x5\"></th> \n        <th class=\"rank\">Pozycja</th> \n        <th class=\"player\">Gracz</th> \n        <th class=\"pp\">PPs</th> \n        <th class=\"diff\">Tydzie\u0144</th></tr>",i=Object(l.space)(),p=Object(l.element)("tbody");for(let e=0;e<t.length;e+=1)t[e].c();Object(l.attr)(d,"class","ranking global sspl svelte-1fjn7x5")},m(e,n){Object(l.insert)(e,d,n),Object(l.append)(d,s),Object(l.append)(d,i),Object(l.append)(d,p);for(let a=0;a<t.length;a+=1)t[a].m(p,null);u=!0},p(e,[o]){if(3&o){const d=e[0];Object(l.group_outros)(),t=Object(l.update_keyed_each)(t,o,c,1,e,d,n,p,l.outro_and_destroy_block,r,null,a),Object(l.check_outros)()}},i(){if(!u){for(let e=0;e<o.length;e+=1)Object(l.transition_in)(t[e]);u=!0}},o(){for(let e=0;e<t.length;e+=1)Object(l.transition_out)(t[e]);u=!1},d(e){e&&Object(l.detach)(d);for(let n=0;n<t.length;n+=1)t[n].d()}}}function d(e,t,n){let{diff:a=6}=t,{users:r={}}=t;const o=Object(f.getMainUserId)();let d=[{value:0,text:"Dzie\u0144"},{value:6,text:"Tydzie\u0144"},{value:29,text:"Miesi\u0105c"}].find((e)=>e.value===a),s=[];return e.$set=(e)=>{"diff"in e&&n(2,a=e.diff),"users"in e&&n(3,r=e.users)},e.$$.update=()=>{8&e.$$.dirty&&d&&n(0,s=Object(_.filterByCountry)(r).reduce((e,t)=>{const{id:n,name:a,avatar:o,country:s,pp:i,rank:l,userHistory:p,weeklyDiff:u}=r[t],c=p?Object(g.getFirstNotNewerThan)(Object(g.toUTCDate)(Object(g.daysAgo)(d.value+1)),Object.keys(p)):null;return e.push({id:n,name:a,avatar:o,country:s,pp:i,prevPp:p&&c&&i!==p[c].pp?p[c].pp:null,rank:l,history:history,change:l&&u&&l!==m.MAGIC_HISTORY_NUMBER&&u!==m.MAGIC_HISTORY_NUMBER?u:null}),e},[]).sort((e,t)=>t.pp-e.pp).slice(0,50))},[s,o,a,r]}var s=Math.ceil;n.r(t);var l=n(2),i=n(32),p=n(33),u=n(34),c=n(30),f=n(5),m=n(16),g=n(6),_=n(27),h=n(35);class y extends l.SvelteComponent{constructor(e){var t;super(),document.getElementById("svelte-1fjn7x5-style")||((t=Object(l.element)("style")).id="svelte-1fjn7x5-style",t.textContent=".sspl.svelte-1fjn7x5 .picture.svelte-1fjn7x5{padding:.5rem 0;width:1.5rem}",Object(l.append)(document.head,t)),Object(l.init)(this,e,d,o,l.safe_not_equal,{diff:2,users:3})}}t.default=y},function(e,t,n){"use strict";function a(e){function t(e){return e[2]?0:1}let n,a,d,s;const l=[o,r],p=[];return a=t(e),d=p[a]=l[a](e),{c(){n=Object(i.element)("small"),d.c()},m(e,t){Object(i.insert)(e,n,t),p[a].m(n,null),s=!0},p(e,r){let o=a;a=t(e),a===o?p[a].p(e,r):(Object(i.group_outros)(),Object(i.transition_out)(p[o],1,1,()=>{p[o]=null}),Object(i.check_outros)(),d=p[a],d||(d=p[a]=l[a](e),d.c()),Object(i.transition_in)(d,1),d.m(n,null))},i(){s||(Object(i.transition_in)(d),s=!0)},o(){Object(i.transition_out)(d),s=!1},d(e){e&&Object(i.detach)(n),p[a].d()}}}function r(e){let n,t;const a=new l.default({props:{value:e[1],zero:"-",digits:0}});return{c(){n=Object(i.text)("#"),Object(i.create_component)(a.$$.fragment)},m(e,r){Object(i.insert)(e,n,r),Object(i.mount_component)(a,e,r),t=!0},p(e,t){const n={};2&t&&(n.value=e[1]),a.$set(n)},i(e){t||(Object(i.transition_in)(a.$$.fragment,e),t=!0)},o(e){Object(i.transition_out)(a.$$.fragment,e),t=!1},d(e){e&&Object(i.detach)(n),Object(i.destroy_component)(a,e)}}}function o(e){let n,a,t;const r=new l.default({props:{value:e[1],zero:"-",digits:0}});return{c(){n=Object(i.element)("a"),a=Object(i.text)("#"),Object(i.create_component)(r.$$.fragment),Object(i.attr)(n,"href",e[2])},m(e,o){Object(i.insert)(e,n,o),Object(i.append)(n,a),Object(i.mount_component)(r,n,null),t=!0},p(e,a){const o={};2&a&&(o.value=e[1]),r.$set(o),(!t||4&a)&&Object(i.attr)(n,"href",e[2])},i(e){t||(Object(i.transition_in)(r.$$.fragment,e),t=!0)},o(e){Object(i.transition_out)(r.$$.fragment,e),t=!1},d(e){e&&Object(i.detach)(n),Object(i.destroy_component)(r)}}}function d(e){let t,n,r,o,d;const s=new l.default({props:{value:e[0],zero:"-",digits:0}});let p=e[1]&&a(e);return{c(){t=Object(i.element)("span"),n=Object(i.text)("#"),Object(i.create_component)(s.$$.fragment),r=Object(i.space)(),p&&p.c(),o=Object(i.empty)()},m(e,a){Object(i.insert)(e,t,a),Object(i.append)(t,n),Object(i.mount_component)(s,t,null),Object(i.insert)(e,r,a),p&&p.m(e,a),Object(i.insert)(e,o,a),d=!0},p(e,[t]){const n={};1&t&&(n.value=e[0]),s.$set(n),e[1]?p?(p.p(e,t),2&t&&Object(i.transition_in)(p,1)):(p=a(e),p.c(),Object(i.transition_in)(p,1),p.m(o.parentNode,o)):p&&(Object(i.group_outros)(),Object(i.transition_out)(p,1,1,()=>{p=null}),Object(i.check_outros)())},i(e){d||(Object(i.transition_in)(s.$$.fragment,e),Object(i.transition_in)(p),d=!0)},o(e){Object(i.transition_out)(s.$$.fragment,e),Object(i.transition_out)(p),d=!1},d(e){e&&Object(i.detach)(t),Object(i.destroy_component)(s),e&&Object(i.detach)(r),p&&p.d(e),e&&Object(i.detach)(o)}}}function s(e,t,n){let{rank:a}=t,{subRank:r}=t,{url:o}=t;return e.$set=(e)=>{"rank"in e&&n(0,a=e.rank),"subRank"in e&&n(1,r=e.subRank),"url"in e&&n(2,o=e.url)},[a,r,o]}n.r(t);var i=n(2),l=n(30);class p extends i.SvelteComponent{constructor(e){super(),Object(i.init)(this,e,s,d,i.safe_not_equal,{rank:0,subRank:1,url:2})}}t.default=p},function(e,t,n){"use strict";function a(e){let t,n,a,r,o,l,p;return{c(){t=Object(d.element)("a"),n=Object(d.element)("img"),r=Object(d.space)(),o=Object(d.element)("span"),l=Object(d.text)(e[3]),n.src!==(a="/imports/images/flags/"+e[2]+".png")&&Object(d.attr)(n,"src",a),Object(d.attr)(o,"class","player-name"),Object(d.attr)(t,"href",p=Object(s.substituteVars)(i.USER_PROFILE_URL,{userId:e[1]}))},m(e,a){Object(d.insert)(e,t,a),Object(d.append)(t,n),Object(d.append)(t,r),Object(d.append)(t,o),Object(d.append)(o,l)},p(e,r){4&r&&n.src!==(a="/imports/images/flags/"+e[2]+".png")&&Object(d.attr)(n,"src",a),8&r&&Object(d.set_data)(l,e[3]),2&r&&p!==(p=Object(s.substituteVars)(i.USER_PROFILE_URL,{userId:e[1]}))&&Object(d.attr)(t,"href",p)},d(e){e&&Object(d.detach)(t)}}}function r(e){let t=e[0]&&a(e),n;return{c(){t&&t.c(),n=Object(d.empty)()},m(e,a){t&&t.m(e,a),Object(d.insert)(e,n,a)},p(e,[r]){e[0]?t?t.p(e,r):(t=a(e),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:d.noop,o:d.noop,d(e){t&&t.d(e),e&&Object(d.detach)(n)}}}function o(e,t,n){let{user:a}=t,r,o,d;return e.$set=(e)=>{"user"in e&&n(0,a=e.user)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=a&&a.id?a.id:null),1&e.$$.dirty&&n(2,o=a&&a.country?a.country.toLowerCase():config.COUNTRY),1&e.$$.dirty&&n(3,d=a&&a.name?a.name:"???")},[a,r,o,d]}n.r(t);var d=n(2),s=n(4),i=n(28);class l extends d.SvelteComponent{constructor(e){super(),Object(d.init)(this,e,o,r,d.safe_not_equal,{user:0})}}t.default=l},function(e,t,n){"use strict";function a(e){let t,n,a,r;const o=[{value:e[4]},{zero:e[2]},{withZeroSuffix:e[3]},{suffix:"pp"},e[5]];let l={};for(let t=0;t<o.length;t+=1)l=Object(d.assign)(l,o[t]);const i=new s.default({props:l});return{c(){t=Object(d.element)("span"),n=Object(d.text)("("),Object(d.create_component)(i.$$.fragment),a=Object(d.text)(")"),Object(d.attr)(t,"class","scoreTop ppWeightedValue")},m(e,o){Object(d.insert)(e,t,o),Object(d.append)(t,n),Object(d.mount_component)(i,t,null),Object(d.append)(t,a),r=!0},p(e,t){const n=60&t?Object(d.get_spread_update)(o,[16&t&&{value:e[4]},4&t&&{zero:e[2]},8&t&&{withZeroSuffix:e[3]},o[3],32&t&&Object(d.get_spread_object)(e[5])]):{};i.$set(n)},i(e){r||(Object(d.transition_in)(i.$$.fragment,e),r=!0)},o(e){Object(d.transition_out)(i.$$.fragment,e),r=!1},d(e){e&&Object(d.detach)(t),Object(d.destroy_component)(i)}}}function r(e){let n,r,t,o;const l=[{value:e[0]},{zero:e[2]},{withZeroSuffix:e[3]},{prevValue:e[1]},{suffix:"pp"},e[5]];let p={};for(let t=0;t<l.length;t+=1)p=Object(d.assign)(p,l[t]);const i=new s.default({props:p});let u=e[4]&&a(e);return{c(){n=Object(d.element)("span"),Object(d.create_component)(i.$$.fragment),r=Object(d.space)(),u&&u.c(),t=Object(d.empty)(),Object(d.attr)(n,"class","scoreTop ppValue")},m(e,a){Object(d.insert)(e,n,a),Object(d.mount_component)(i,n,null),Object(d.insert)(e,r,a),u&&u.m(e,a),Object(d.insert)(e,t,a),o=!0},p(e,[n]){const r=47&n?Object(d.get_spread_update)(l,[1&n&&{value:e[0]},4&n&&{zero:e[2]},8&n&&{withZeroSuffix:e[3]},2&n&&{prevValue:e[1]},l[4],32&n&&Object(d.get_spread_object)(e[5])]):{};i.$set(r),e[4]?u?(u.p(e,n),16&n&&Object(d.transition_in)(u,1)):(u=a(e),u.c(),Object(d.transition_in)(u,1),u.m(t.parentNode,t)):u&&(Object(d.group_outros)(),Object(d.transition_out)(u,1,1,()=>{u=null}),Object(d.check_outros)())},i(e){o||(Object(d.transition_in)(i.$$.fragment,e),Object(d.transition_in)(u),o=!0)},o(e){Object(d.transition_out)(i.$$.fragment,e),Object(d.transition_out)(u),o=!1},d(e){e&&Object(d.detach)(n),Object(d.destroy_component)(i),e&&Object(d.detach)(r),u&&u.d(e),e&&Object(d.detach)(t)}}}function o(e,t,n){const a=["pp","prevPp","zero","withZeroSuffix","weighted"];let r=Object(d.compute_rest_props)(t,a),{pp:o=0}=t,{prevPp:s=null}=t,{zero:i="-"}=t,{withZeroSuffix:l=!1}=t,{weighted:p=null}=t;return e.$set=(e)=>{t=Object(d.assign)(Object(d.assign)({},t),Object(d.exclude_internal_props)(e)),n(5,r=Object(d.compute_rest_props)(t,a)),"pp"in e&&n(0,o=e.pp),"prevPp"in e&&n(1,s=e.prevPp),"zero"in e&&n(2,i=e.zero),"withZeroSuffix"in e&&n(3,l=e.withZeroSuffix),"weighted"in e&&n(4,p=e.weighted)},[o,s,i,l,p,r]}n.r(t);var d=n(2),s=n(30);class i extends d.SvelteComponent{constructor(e){super(),Object(d.init)(this,e,o,r,d.safe_not_equal,{pp:0,prevPp:1,zero:2,withZeroSuffix:3,weighted:4})}}t.default=i},function(e,t,n){"use strict";function a(e){let t,n,a;return{c(){t=Object(d.element)("figure"),n=Object(d.element)("img"),n.src!==(a=e[1])&&Object(d.attr)(n,"src",a),Object(d.set_style)(n,"border-radius","50%"),Object(d.attr)(t,"class","image is-24x24 svelte-bw17ze")},m(e,a){Object(d.insert)(e,t,a),Object(d.append)(t,n)},p(e,t){2&t&&n.src!==(a=e[1])&&Object(d.attr)(n,"src",a)},d(e){e&&Object(d.detach)(t)}}}function r(e){let t=e[0]&&a(e),n;return{c(){t&&t.c(),n=Object(d.empty)()},m(e,a){t&&t.m(e,a),Object(d.insert)(e,n,a)},p(e,[r]){e[0]?t?t.p(e,r):(t=a(e),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:d.noop,o:d.noop,d(e){t&&t.d(e),e&&Object(d.detach)(n)}}}function o(e,t,n){let{url:a}=t,r;return e.$set=(e)=>{"url"in e&&n(0,a=e.url)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=s.NEW_SCORESABER_URL+a)},[a,r]}n.r(t);var d=n(2),s=n(16);class i extends d.SvelteComponent{constructor(e){var t;super(),document.getElementById("svelte-bw17ze-style")||((t=Object(d.element)("style")).id="svelte-bw17ze-style",t.textContent="figure.svelte-bw17ze{margin:0}",Object(d.append)(document.head,t)),Object(d.init)(this,e,o,r,d.safe_not_equal,{url:0})}}t.default=i},function(e,t,n){"use strict";function a(e,t,n){const a=e.slice();return a[14]=t[n],a}function r(e,t,n){const a=e.slice();return a[14]=t[n],a[18]=n,a}function o(){let e;return{c(){e=Object(c.element)("div"),e.innerHTML="<h3>Strasznie tu pusto</h3> \n        <p>Wygl\u0105da na to, \u017Ce nie ma jeszcze \u017Cadnych danych.</p> \n        <p>Usi\u0105d\u017A sobie wygodnie, otw\xF3rz harnasia, kliknij Od\u015Bwie\u017C i poczekaj, bo troch\u0119 to potrwa...</p>",Object(c.attr)(e,"class","first-fetch svelte-1dr8553")},m(t,n){Object(c.insert)(t,e,n)},p:c.noop,i:c.noop,o:c.noop,d(t){t&&Object(c.detach)(e)}}}function d(e){let t=[],n=new Map,o=[],d=new Map,p=e[1],i,u,m,g,_,h,y,v,b,$,k;const x=(e)=>e[14].id;for(let a=0;a<p.length;a+=1){let o=r(e,p,a),d=x(o);n.set(d,t[a]=s(d,o))}let S=e[3];const C=(e)=>e[14].timestamp;for(let t=0;t<S.length;t+=1){let n=a(e,S,t),r=C(n);d.set(r,o[t]=l(r,n))}return{c(){i=Object(c.element)("table"),u=Object(c.element)("thead"),u.innerHTML="<tr><th class=\"picture svelte-1dr8553\"></th> \n        <th class=\"rank svelte-1dr8553\">#</th> \n        <th class=\"player svelte-1dr8553\">Gracz</th> \n        <th class=\"score svelte-1dr8553\">Wynik</th> \n        <th class=\"timeset svelte-1dr8553\">Czas</th> \n        <th class=\"mods svelte-1dr8553\">Mody</th> \n        <th class=\"percentage svelte-1dr8553\">Procent</th> \n        <th class=\"pp svelte-1dr8553\">PP</th></tr>",m=Object(c.space)(),g=Object(c.element)("tbody");for(let e=0;e<t.length;e+=1)t[e].c();h=Object(c.space)(),y=Object(c.element)("div"),v=Object(c.element)("table"),b=Object(c.element)("tbody");for(let e=0;e<o.length;e+=1)o[e].c();Object(c.attr)(g,"class","svelte-1dr8553"),Object(c.attr)(i,"class","ranking sspl svelte-1dr8553"),Object(c.attr)(v,"class","history"),Object(c.attr)(y,"class","tooltip svelte-1dr8553")},m(n,a,r){Object(c.insert)(n,i,a),Object(c.append)(i,u),Object(c.append)(i,m),Object(c.append)(i,g);for(let e=0;e<t.length;e+=1)t[e].m(g,null);Object(c.insert)(n,h,a),Object(c.insert)(n,y,a),Object(c.append)(y,v),Object(c.append)(v,b);for(let e=0;e<o.length;e+=1)o[e].m(b,null);e[12](y),$=!0,r&&Object(c.run_all)(k),k=[Object(c.action_destroyer)(_=f.hoverable.call(null,g)),Object(c.listen)(g,"hover",e[9]),Object(c.listen)(g,"unhover",e[10])]},p(e,i){if(131&i){const a=e[1];Object(c.group_outros)(),t=Object(c.update_keyed_each)(t,i,x,1,e,a,n,g,c.outro_and_destroy_block,s,null,r),Object(c.check_outros)()}if(8&i){const t=e[3];Object(c.group_outros)(),o=Object(c.update_keyed_each)(o,i,C,1,e,t,d,b,c.outro_and_destroy_block,l,null,a),Object(c.check_outros)()}},i(){if(!$){for(let e=0;e<p.length;e+=1)Object(c.transition_in)(t[e]);for(let e=0;e<S.length;e+=1)Object(c.transition_in)(o[e]);$=!0}},o(){for(let e=0;e<t.length;e+=1)Object(c.transition_out)(t[e]);for(let e=0;e<o.length;e+=1)Object(c.transition_out)(o[e]);$=!1},d(n){n&&Object(c.detach)(i);for(let e=0;e<t.length;e+=1)t[e].d();n&&Object(c.detach)(h),n&&Object(c.detach)(y);for(let e=0;e<o.length;e+=1)o[e].d();e[12](null),Object(c.run_all)(k)}}}function s(e,t){let n=(t[14].mods&&t[14].mods.length?t[14].mods:"-")+"",a,r,o,d,s,i,l,p,f,$,k,x,S,I,A,w,E,P,R,T,L,q;const N=new m.default({props:{url:t[14].avatar}}),U=new g.default({props:{rank:t[18]+1,subRank:t[14].rank,url:"/leaderboard/"+encodeURIComponent(t[0])+"?page="+encodeURIComponent(u(t[14].rank/C.SCORES_PER_PAGE))}}),O=new _.default({props:{user:t[14]}}),z=new v.default({props:{value:t[14].score,digits:0,zero:"-",prevValue:t[14].playHistory&&t[14].playHistory.length?t[14].playHistory[0].score:null}}),D=new h.default({props:{date:t[14].timeset,prevDate:t[14].playHistory&&t[14].playHistory.length?t[14].playHistory[0].timeset:null}}),M=new v.default({props:{value:100*t[14].percent,zero:"-",suffix:"%",prevValue:t[14].playHistory&&t[14].playHistory.length?100*t[14].playHistory[0].percent:null}}),H=new y.default({props:{pp:t[14].pp,prevPp:t[14].playHistory&&t[14].playHistory.length?t[14].playHistory[0].pp:null}}),B=new b.default({props:{leaderboardId:t[0],pp:t[14].pp}});return{key:e,first:null,c(){a=Object(c.element)("tr"),r=Object(c.element)("td"),Object(c.create_component)(N.$$.fragment),o=Object(c.space)(),d=Object(c.element)("td"),Object(c.create_component)(U.$$.fragment),s=Object(c.space)(),i=Object(c.element)("td"),Object(c.create_component)(O.$$.fragment),l=Object(c.space)(),p=Object(c.element)("td"),Object(c.create_component)(z.$$.fragment),f=Object(c.space)(),$=Object(c.element)("td"),Object(c.create_component)(D.$$.fragment),k=Object(c.space)(),x=Object(c.element)("td"),S=Object(c.text)(n),I=Object(c.space)(),A=Object(c.element)("td"),Object(c.create_component)(M.$$.fragment),w=Object(c.space)(),E=Object(c.element)("td"),Object(c.create_component)(H.$$.fragment),P=Object(c.space)(),Object(c.create_component)(B.$$.fragment),R=Object(c.space)(),Object(c.attr)(r,"class","picture svelte-1dr8553"),Object(c.attr)(d,"class","rank svelte-1dr8553"),Object(c.attr)(i,"class","player svelte-1dr8553"),Object(c.attr)(p,"class","score svelte-1dr8553"),Object(c.attr)($,"class","timeset svelte-1dr8553"),Object(c.attr)(x,"class","mods svelte-1dr8553"),Object(c.attr)(A,"class","percentage svelte-1dr8553"),Object(c.attr)(E,"class","pp svelte-1dr8553"),Object(c.attr)(a,"class",T=Object(c.null_to_empty)((t[14].hidden,t[7]===t[14].id?"main":""))+" svelte-1dr8553"),Object(c.attr)(a,"data-id",L=t[14].id),this.first=a},m(e,t){Object(c.insert)(e,a,t),Object(c.append)(a,r),Object(c.mount_component)(N,r,null),Object(c.append)(a,o),Object(c.append)(a,d),Object(c.mount_component)(U,d,null),Object(c.append)(a,s),Object(c.append)(a,i),Object(c.mount_component)(O,i,null),Object(c.append)(a,l),Object(c.append)(a,p),Object(c.mount_component)(z,p,null),Object(c.append)(a,f),Object(c.append)(a,$),Object(c.mount_component)(D,$,null),Object(c.append)(a,k),Object(c.append)(a,x),Object(c.append)(x,S),Object(c.append)(a,I),Object(c.append)(a,A),Object(c.mount_component)(M,A,null),Object(c.append)(a,w),Object(c.append)(a,E),Object(c.mount_component)(H,E,null),Object(c.append)(E,P),Object(c.mount_component)(B,E,null),Object(c.append)(a,R),q=!0},p(e,t){const r={};2&t&&(r.url=e[14].avatar),N.$set(r);const o={};2&t&&(o.rank=e[18]+1),2&t&&(o.subRank=e[14].rank),3&t&&(o.url="/leaderboard/"+encodeURIComponent(e[0])+"?page="+encodeURIComponent(u(e[14].rank/C.SCORES_PER_PAGE))),U.$set(o);const d={};2&t&&(d.user=e[14]),O.$set(d);const s={};2&t&&(s.value=e[14].score),2&t&&(s.prevValue=e[14].playHistory&&e[14].playHistory.length?e[14].playHistory[0].score:null),z.$set(s);const i={};2&t&&(i.date=e[14].timeset),2&t&&(i.prevDate=e[14].playHistory&&e[14].playHistory.length?e[14].playHistory[0].timeset:null),D.$set(i),(!q||2&t)&&n!=(n=(e[14].mods&&e[14].mods.length?e[14].mods:"-")+"")&&Object(c.set_data)(S,n);const l={};2&t&&(l.value=100*e[14].percent),2&t&&(l.prevValue=e[14].playHistory&&e[14].playHistory.length?100*e[14].playHistory[0].percent:null),M.$set(l);const p={};2&t&&(p.pp=e[14].pp),2&t&&(p.prevPp=e[14].playHistory&&e[14].playHistory.length?e[14].playHistory[0].pp:null),H.$set(p);const f={};1&t&&(f.leaderboardId=e[0]),2&t&&(f.pp=e[14].pp),B.$set(f),(!q||2&t&&T!==(T=Object(c.null_to_empty)((e[14].hidden,e[7]===e[14].id?"main":""))+" svelte-1dr8553"))&&Object(c.attr)(a,"class",T),(!q||2&t&&L!==(L=e[14].id))&&Object(c.attr)(a,"data-id",L)},i(e){q||(Object(c.transition_in)(N.$$.fragment,e),Object(c.transition_in)(U.$$.fragment,e),Object(c.transition_in)(O.$$.fragment,e),Object(c.transition_in)(z.$$.fragment,e),Object(c.transition_in)(D.$$.fragment,e),Object(c.transition_in)(M.$$.fragment,e),Object(c.transition_in)(H.$$.fragment,e),Object(c.transition_in)(B.$$.fragment,e),q=!0)},o(e){Object(c.transition_out)(N.$$.fragment,e),Object(c.transition_out)(U.$$.fragment,e),Object(c.transition_out)(O.$$.fragment,e),Object(c.transition_out)(z.$$.fragment,e),Object(c.transition_out)(D.$$.fragment,e),Object(c.transition_out)(M.$$.fragment,e),Object(c.transition_out)(H.$$.fragment,e),Object(c.transition_out)(B.$$.fragment,e),q=!1},d(e){e&&Object(c.detach)(a),Object(c.destroy_component)(N),Object(c.destroy_component)(U),Object(c.destroy_component)(O),Object(c.destroy_component)(z),Object(c.destroy_component)(D),Object(c.destroy_component)(M),Object(c.destroy_component)(H),Object(c.destroy_component)(B)}}}function l(e,t){let n,a,r,o,d,s,i,l,p,u;const f=new h.default({props:{date:t[14].timeset}}),m=new v.default({props:{value:t[14].score,digits:0,zero:"-"}}),g=new v.default({props:{value:100*t[14].percent,zero:"-",suffix:"%"}}),_=new y.default({props:{pp:t[14].pp}});return{key:e,first:null,c(){n=Object(c.element)("tr"),a=Object(c.element)("td"),Object(c.create_component)(f.$$.fragment),r=Object(c.space)(),o=Object(c.element)("td"),Object(c.create_component)(m.$$.fragment),d=Object(c.space)(),s=Object(c.element)("td"),Object(c.create_component)(g.$$.fragment),i=Object(c.space)(),l=Object(c.element)("td"),Object(c.create_component)(_.$$.fragment),p=Object(c.space)(),Object(c.attr)(a,"class","svelte-1dr8553"),Object(c.attr)(o,"class","svelte-1dr8553"),Object(c.attr)(s,"class","svelte-1dr8553"),Object(c.attr)(l,"class","svelte-1dr8553"),this.first=n},m(e,t){Object(c.insert)(e,n,t),Object(c.append)(n,a),Object(c.mount_component)(f,a,null),Object(c.append)(n,r),Object(c.append)(n,o),Object(c.mount_component)(m,o,null),Object(c.append)(n,d),Object(c.append)(n,s),Object(c.mount_component)(g,s,null),Object(c.append)(n,i),Object(c.append)(n,l),Object(c.mount_component)(_,l,null),Object(c.append)(n,p),u=!0},p(e,t){const n={};8&t&&(n.date=e[14].timeset),f.$set(n);const a={};8&t&&(a.value=e[14].score),m.$set(a);const r={};8&t&&(r.value=100*e[14].percent),g.$set(r);const o={};8&t&&(o.pp=e[14].pp),_.$set(o)},i(e){u||(Object(c.transition_in)(f.$$.fragment,e),Object(c.transition_in)(m.$$.fragment,e),Object(c.transition_in)(g.$$.fragment,e),Object(c.transition_in)(_.$$.fragment,e),u=!0)},o(e){Object(c.transition_out)(f.$$.fragment,e),Object(c.transition_out)(m.$$.fragment,e),Object(c.transition_out)(g.$$.fragment,e),Object(c.transition_out)(_.$$.fragment,e),u=!1},d(e){e&&Object(c.detach)(n),Object(c.destroy_component)(f),Object(c.destroy_component)(m),Object(c.destroy_component)(g),Object(c.destroy_component)(_)}}}function i(e){function t(e){return e[6]?0:1}let n,a,r,s,i,l,p;const u=new $.default({});u.$on("new-rankeds",e[8]),u.$on("data-refreshed",e[11]);const f=new k.default({props:{rankeds:e[5]}}),m=[d,o],g=[];return i=t(e),l=g[i]=m[i](e),{c(){n=Object(c.element)("div"),a=Object(c.element)("div"),Object(c.create_component)(u.$$.fragment),r=Object(c.space)(),Object(c.create_component)(f.$$.fragment),s=Object(c.space)(),l.c(),Object(c.attr)(a,"class","refresh svelte-1dr8553"),Object(c.attr)(n,"class","leaderboard-container svelte-1dr8553")},m(t,o){Object(c.insert)(t,n,o),Object(c.append)(n,a),Object(c.mount_component)(u,a,null),Object(c.append)(n,r),Object(c.mount_component)(f,n,null),Object(c.append)(n,s),g[i].m(n,null),e[13](n),p=!0},p(e,[a]){const r={};32&a&&(r.rankeds=e[5]),f.$set(r);let o=i;i=t(e),i===o?g[i].p(e,a):(Object(c.group_outros)(),Object(c.transition_out)(g[o],1,1,()=>{g[o]=null}),Object(c.check_outros)(),l=g[i],l||(l=g[i]=m[i](e),l.c()),Object(c.transition_in)(l,1),l.m(n,null))},i(e){p||(Object(c.transition_in)(u.$$.fragment,e),Object(c.transition_in)(f.$$.fragment,e),Object(c.transition_in)(l),p=!0)},o(e){Object(c.transition_out)(u.$$.fragment,e),Object(c.transition_out)(f.$$.fragment,e),Object(c.transition_out)(l),p=!1},d(t){t&&Object(c.detach)(n),Object(c.destroy_component)(u),Object(c.destroy_component)(f),g[i].d(),e[13](null)}}}function p(e,t,n){let{leaderboardId:a}=t,{leaderboard:r=[]}=t;const o=Object(x.getMainUserId)();let d=[],s=[],i=!1,l,p;return Object(S.isAnyData)().then((e)=>n(6,i=e)),e.$set=(e)=>{"leaderboardId"in e&&n(0,a=e.leaderboardId),"leaderboard"in e&&n(1,r=e.leaderboard)},[a,r,l,d,p,s,i,o,function(e){n(5,s=e.detail)},function(e){const t=e.detail.target.closest("tr"),a=t.getBoundingClientRect(),o=p.getBoundingClientRect(),s=a.top-o.top;n(3,d=[]);const i=t.dataset.id;if(i){const e=r.find((e)=>e.id===i);e&&e.playHistory&&e.playHistory.length&&(n(3,d=e.playHistory.slice(0,3)),n(2,l.style.display="inline-block",l),n(2,l.style.top=s+a.height+"px",l))}},function(){n(2,l.style.display="none",l)},function(t){Object(c.bubble)(e,t)},function(e){c.binding_callbacks[e?"unshift":"push"](()=>{n(2,l=e)})},function(e){c.binding_callbacks[e?"unshift":"push"](()=>{n(4,p=e)})}]}var u=Math.ceil;n.r(t);var c=n(2),f=n(37),m=n(35),g=n(32),_=n(33),h=n(38),y=n(34),v=n(30),b=n(39),$=n(40),k=n(45),x=n(5),S=n(9),C=n(16);class I extends c.SvelteComponent{constructor(e){var t;super(),document.getElementById("svelte-1dr8553-style")||((t=Object(c.element)("style")).id="svelte-1dr8553-style",t.textContent=".sspl.svelte-1dr8553 tbody.svelte-1dr8553{padding-bottom:2rem}.sspl.svelte-1dr8553 th.svelte-1dr8553,.sspl.svelte-1dr8553 td.svelte-1dr8553{padding:.5rem}.sspl.svelte-1dr8553 thead th.rank.svelte-1dr8553{width:5.4rem}.sspl.svelte-1dr8553 thead th.svelte-1dr8553,.sspl.svelte-1dr8553 tbody td.mods.svelte-1dr8553,.sspl.svelte-1dr8553 tbody td.percentage.svelte-1dr8553,.sspl.svelte-1dr8553 tbody td.pp.svelte-1dr8553{text-align:center}.sspl.svelte-1dr8553 tbody td.score.svelte-1dr8553{text-align:right}.sspl.svelte-1dr8553 .score.svelte-1dr8553,.sspl.svelte-1dr8553 .pp.svelte-1dr8553{width:6rem}.sspl.svelte-1dr8553 .picture.svelte-1dr8553{padding:.5rem 0}.refresh.svelte-1dr8553.svelte-1dr8553{text-align:right;margin-bottom:1rem}.first-fetch.svelte-1dr8553.svelte-1dr8553{text-align:center\n    }.tooltip.svelte-1dr8553.svelte-1dr8553{display:none;position:absolute;top:0;right:1rem;z-index:10;width:25rem;padding:.25rem;font-size:.875rem;font-weight:normal;text-align:center;color:var(--textColor);background-color:var(--background);border:1px solid var(--textColor)}.tooltip.svelte-1dr8553 table td.svelte-1dr8553{padding:3px}.leaderboard-container.svelte-1dr8553.svelte-1dr8553{position:relative}",Object(c.append)(document.head,t)),Object(c.init)(this,e,p,i,c.safe_not_equal,{leaderboardId:0,leaderboard:1})}}t.default=I},function(e,t,n){"use strict";function a(e){function t(t){e.dispatchEvent(new CustomEvent("hover",{detail:{target:t.target,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}))}function n(t){e.dispatchEvent(new CustomEvent("unhover",{detail:{target:t.target,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}))}return e.addEventListener("mouseover",t),e.addEventListener("mouseout",n),{destroy(){e.removeEventListener("mouseover",t),e.removeEventListener("mouseout",n)}}}n.r(t),n.d(t,"hoverable",function(){return a})},function(e,t,n){"use strict";function a(e){let n,a,t;return{c(){n=Object(d.element)("small"),a=Object(d.text)(e[3]),Object(d.attr)(n,"title",t=e[2].toLocaleString()),Object(d.attr)(n,"class","svelte-1j3lv2f")},m(e,t){Object(d.insert)(e,n,t),Object(d.append)(n,a)},p(e,r){8&r&&Object(d.set_data)(a,e[3]),4&r&&t!==(t=e[2].toLocaleString())&&Object(d.attr)(n,"title",t)},d(e){e&&Object(d.detach)(n)}}}function r(e){let n=e[2]&&a(e),r,o,t,s;return{c(){r=Object(d.element)("span"),o=Object(d.text)(e[1]),n&&n.c(),s=Object(d.empty)(),Object(d.attr)(r,"title",t=e[0].toLocaleString())},m(e,t){Object(d.insert)(e,r,t),Object(d.append)(r,o),n&&n.m(e,t),Object(d.insert)(e,s,t)},p(e,[i]){2&i&&Object(d.set_data)(o,e[1]),1&i&&t!==(t=e[0].toLocaleString())&&Object(d.attr)(r,"title",t),e[2]?n?n.p(e,i):(n=a(e),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},i:d.noop,o:d.noop,d(e){e&&Object(d.detach)(r),n&&n.d(e),e&&Object(d.detach)(s)}}}function o(e,t,n){let{date:a=new Date}=t,{prevDate:r=null}=t,o,d,l,p;return e.$set=(e)=>{"date"in e&&n(4,a=e.date),"prevDate"in e&&n(5,r=e.prevDate)},e.$$.update=()=>{16&e.$$.dirty&&n(0,o=a instanceof Date?a:Object(i.dateFromString)(a)),17&e.$$.dirty&&n(1,d=a?Object(s.formatDate)(o.toISOString()):""),48&e.$$.dirty&&n(2,l=r?r instanceof Date?r:Object(i.dateFromString)(a):null),36&e.$$.dirty&&n(3,p=r?Object(s.formatDate)(l.toISOString()):"")},[o,d,l,p,a,r]}n.r(t);var d=n(2),s=n(4),i=n(6);class l extends d.SvelteComponent{constructor(e){var t;super(),document.getElementById("svelte-1j3lv2f-style")||((t=Object(d.element)("style")).id="svelte-1j3lv2f-style",t.textContent="small.svelte-1j3lv2f{display:block}",Object(d.append)(document.head,t)),Object(d.init)(this,e,o,r,d.safe_not_equal,{date:4,prevDate:5})}}t.default=l},function(e,t,n){"use strict";function a(e){let t=Object(p.formatNumber)(e[3].currentTotalPp)+"",n=Object(p.formatNumber)(e[3].diff)+"",a=Object(p.formatNumber)(e[3].newTotalPp)+"",r,o,i,l,u,c,f,m,g,_,h,y,v,b;return{c(){r=Object(d.element)("button"),r.textContent="?",i=Object(d.space)(),l=Object(d.element)("div"),u=Object(d.text)("Je\u015Bli tak zagrasz: "),c=Object(d.text)(t),f=Object(d.text)(" + "),m=Object(d.element)("strong"),g=Object(d.text)(n),_=Object(d.text)(" =\n            "),h=Object(d.element)("strong"),y=Object(d.text)(a),v=Object(d.text)("pp"),Object(d.attr)(r,"class","what-if"),Object(d.attr)(m,"class","svelte-ali73z"),Object(d.attr)(h,"class","inc svelte-ali73z"),Object(d.attr)(l,"class","tooltip svelte-ali73z")},m(t,n,a){Object(d.insert)(t,r,n),e[9](r),Object(d.insert)(t,i,n),Object(d.insert)(t,l,n),Object(d.append)(l,u),Object(d.append)(l,c),Object(d.append)(l,f),Object(d.append)(l,m),Object(d.append)(m,g),Object(d.append)(l,_),Object(d.append)(l,h),Object(d.append)(h,y),Object(d.append)(h,v),e[10](l),a&&Object(d.run_all)(b),b=[Object(d.action_destroyer)(o=s.hoverable.call(null,r)),Object(d.listen)(r,"hover",e[6]),Object(d.listen)(r,"unhover",e[7])]},p(e,r){8&r&&t!=(t=Object(p.formatNumber)(e[3].currentTotalPp)+"")&&Object(d.set_data)(c,t),8&r&&n!=(n=Object(p.formatNumber)(e[3].diff)+"")&&Object(d.set_data)(g,n),8&r&&a!=(a=Object(p.formatNumber)(e[3].newTotalPp)+"")&&Object(d.set_data)(y,a)},d(t){t&&Object(d.detach)(r),e[9](null),t&&Object(d.detach)(i),t&&Object(d.detach)(l),e[10](null),Object(d.run_all)(b)}}}function r(e){let t=e[5]&&function(e){let t=Object(p.round)(e[0])>Object(p.round)(e[4]),n=t&&a(e),r;return{c(){n&&n.c(),r=Object(d.empty)()},m(e,t){n&&n.m(e,t),Object(d.insert)(e,r,t)},p(e,o){17&o&&(t=Object(p.round)(e[0])>Object(p.round)(e[4])),t?n?n.p(e,o):(n=a(e),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&Object(d.detach)(r)}}}(e),n;return{c(){t&&t.c(),n=Object(d.empty)()},m(e,a){t&&t.m(e,a),Object(d.insert)(e,n,a)},p(e,[n]){e[5]&&t.p(e,n)},i:d.noop,o:d.noop,d(e){t&&t.d(e),e&&Object(d.detach)(n)}}}function o(e,t,n){let{leaderboardId:a}=t,{pp:r=0}=t,o=Object(i.getMainUserId)(),s={currentTotalPp:0,newTotalPp:0,diff:0},p=0,u,c;return(async()=>{const e=await Object(l.getUserSongScore)(o,a);n(4,p=void 0===e?0:e.pp)})(),e.$set=(e)=>{"leaderboardId"in e&&n(8,a=e.leaderboardId),"pp"in e&&n(0,r=e.pp)},[r,u,c,s,p,o,async function(){const e=await Object(l.getWhatIfScore)(o,a,r);n(3,s=Object.assign({},s,e)),n(2,c.style.display="inline-block",c)},function(){n(2,c.style.display="none",c)},a,function(e){d.binding_callbacks[e?"unshift":"push"](()=>{n(1,u=e)})},function(e){d.binding_callbacks[e?"unshift":"push"](()=>{n(2,c=e)})}]}n.r(t);var d=n(2),s=n(37),i=n(5),l=n(8),p=n(4);class u extends d.SvelteComponent{constructor(e){var t;super(),document.getElementById("svelte-ali73z-style")||((t=Object(d.element)("style")).id="svelte-ali73z-style",t.textContent=".tooltip.svelte-ali73z{display:none;position:absolute;top:0;right:1rem;z-index:10;width:21rem;padding:.25rem;font-size:.875rem;font-weight:normal;text-align:center;color:var(--textColor);background-color:var(--background);border:1px solid var(--foreground)}strong.svelte-ali73z{color:inherit !important;background-color:inherit !important}.inc.svelte-ali73z{color:#42b129!important}",Object(d.append)(document.head,t)),Object(d.init)(this,e,o,r,d.safe_not_equal,{leaderboardId:8,pp:0})}}t.default=u},function(e,t,n){"use strict";function a(e){let t=(e[4]?Object(p.formatDate)(e[4]):"-")+"",n,a,r,o,d,i,l,u;return{c(){n=Object(s.element)("button"),a=Object(s.text)("\u21BB"),r=Object(s.space)(),o=Object(s.element)("strong"),o.textContent="Data pobrania:",d=Object(s.space)(),i=Object(s.element)("span"),l=Object(s.text)(t),Object(s.attr)(n,"title","Od\u015Bwie\u017C"),n.disabled=e[3]},m(t,p,c){Object(s.insert)(t,n,p),Object(s.append)(n,a),Object(s.insert)(t,r,p),Object(s.insert)(t,o,p),Object(s.insert)(t,d,p),Object(s.insert)(t,i,p),Object(s.append)(i,l),c&&u(),u=Object(s.listen)(n,"click",e[5])},p(e,a){8&a&&(n.disabled=e[3]),16&a&&t!=(t=(e[4]?Object(p.formatDate)(e[4]):"-")+"")&&Object(s.set_data)(l,t)},i:s.noop,o:s.noop,d(e){e&&Object(s.detach)(n),e&&Object(s.detach)(r),e&&Object(s.detach)(o),e&&Object(s.detach)(d),e&&Object(s.detach)(i),u()}}}function r(e){let t;const n=new l.default({props:{value:e[2],label:e[0],subLabel:e[1],maxWidth:"16rem"}});return{c(){Object(s.create_component)(n.$$.fragment)},m(e,a){Object(s.mount_component)(n,e,a),t=!0},p(e,t){const a={};4&t&&(a.value=e[2]),1&t&&(a.label=e[0]),2&t&&(a.subLabel=e[1]),n.$set(a)},i(e){t||(Object(s.transition_in)(n.$$.fragment,e),t=!0)},o(e){Object(s.transition_out)(n.$$.fragment,e),t=!1},d(e){Object(s.destroy_component)(n,e)}}}function o(e){function t(e){return e[3]?0:1}let n,o,d,i;const l=[r,a],p=[];return o=t(e),d=p[o]=l[o](e),{c(){n=Object(s.element)("div"),d.c()},m(e,t){Object(s.insert)(e,n,t),p[o].m(n,null),i=!0},p(e,[a]){let r=o;o=t(e),o===r?p[o].p(e,a):(Object(s.group_outros)(),Object(s.transition_out)(p[r],1,1,()=>{p[r]=null}),Object(s.check_outros)(),d=p[o],d||(d=p[o]=l[o](e),d.c()),Object(s.transition_in)(d,1),d.m(n,null))},i(){i||(Object(s.transition_in)(d),i=!0)},o(){Object(s.transition_out)(d),i=!1},d(e){e&&Object(s.detach)(n),p[o].d()}}}function d(e,t,n){function a(e){n(2,s=e.percent),n(0,o=Object(m.escapeHtml)(e.name)),n(1,d=e.page.toString())}const r=Object(_.createEventDispatcher)();let o="",d="",s=0,l=!1,p=null;return Object(u.lastUpdated)().then((e)=>n(4,p=Object(b.dateFromString)(e))),[o,d,s,l,p,async function(){n(3,l=!0),n(2,s=0),async function(){n(0,o=""),n(1,d="Pobieranie listy top 50 "+f.default.COUNTRY.toUpperCase()+"...");const e=await Object(v.fetchUsers)();n(0,o=""),n(1,d="");const t=await Object(u.getCacheAndConvertIfNeeded)();t.users&&Object.keys(t.users).map((e)=>t.users[e].inactive=!0);let s=0,l=await e.reduce(async(t,n)=>{let r=await t;if(n.userHistory=r.users&&r.users[n.id]&&r.users[n.id].userHistory?r.users[n.id].userHistory:{},r&&r.users&&r.users[n.id]){const{rank:e,pp:t,countryRank:a}=r.users[n.id];n.userHistory=Object.assign({},n.userHistory,{[Object(b.toUTCDate)(new Date)]:{rank:e,pp:t,countryRank:a}})}let o=await Object(y.fetchAllNewScores)(n,Object(b.dateFromString)(r.users[n.id]?r.users[n.id].lastUpdated:null),(t)=>a(Object.assign({},t,{percent:i(100*(s/e.length))})));if(o&&o.scores){const e=r.users[n.id]?r.users[n.id].scores:{};Object.keys(o.scores).map((t)=>{const n=e[t]?e[t]:null;if(n){o.scores[t].history||(o.scores[t].history=[]);const{pp:e,rank:a,score:r,uScore:d,timeset:s}=n;o.scores[t].history.push({pp:e,rank:a,score:r,uScore:d,timestamp:Object(b.dateFromString)(s).getTime()})}}),r.users[n.id]=Object.assign({},n,{lastUpdated:new Date().toISOString(),recentPlay:o.lastUpdated,scores:Object.assign({},e,o.scores)})}return s++,r},t);l.lastUpdated=new Date().toISOString(),n(4,p=l.lastUpdated),await Object(u.setCache)(l),r("data-refreshed",{})}().then(()=>async function(e=null){const t=await Object(u.getCacheAndConvertIfNeeded)();if(n(0,o=""),n(1,d=""),6e4<new Date().getTime()-Object(b.dateFromString)(t.lastUpdated).getTime())return g.default.error("Please update song data first"),null;n(0,o=""),n(1,d="Pobieranie nowych ranked\xF3w");const a=await Object(h.getNewlyRanked)();if(!a)return null;if(a.newRanked.length!==Object.keys(a.allRanked).length){const r=a.newRanked.map((e)=>e.leaderboardId).concat(a.changed.map((e)=>e.leaderboardId)),s=t.users,l=Object.values(s).reduce((e,t)=>{const n=Object.values(t.scores).map((e)=>({leaderboardId:e.leaderboardId,timeset:Object(b.dateFromString)(e.timeset)})).sort((e,t)=>t.timeset.getTime()-e.timeset.getTime()).reduce((e,t,n)=>{if(r.includes(t.leaderboardId)){const a=i(n/c.PLAYS_PER_PAGE)+1;e[a]=(e&&e[a]?e[a]:[]).concat([t.leaderboardId])}return e},{});return Object(m.isEmpty)(n)||(e[t.id]=n),e},{});n(0,o=""),n(1,d="Aktualizacja wynik\xF3w nowych ranked\xF3w");const p=Object.values(l).reduce((e,t)=>e+Object.keys(t).length,0);let u=0;for(const t in l){let n=0;for(const a in l[t]){const r=Object(m.convertArrayToObjectByKey)((await Object(y.fetchScores)(t,a,...l[t][a])),"leaderboardId");s[t].scores=Object.assign({},s[t].scores,r),e&&e({id:t,name:s[t].name,page:n+1,percent:i(100*(u/p))}),n++,u++}}}return t.rankedSongs=a.allRanked,t.rankedSongsLastUpdated=JSON.parse(JSON.stringify(new Date)),await Object(u.setCache)(t),a}(a)).then((e)=>async function(e){r("new-rankeds",[]);const t=await Object(u.getCacheAndConvertIfNeeded)();if(!e)return;const n=Object(f.getMainUserId)();n&&e.newRanked.length!==Object.keys(e.allRanked).length&&r("new-rankeds",e.newRanked.concat(e.changed).sort((e,t)=>t.stars-e.stars).map((e)=>Object.assign({},e,{pp:t&&t.users&&t.users[n]&&t.users[n].scores&&t.users[n].scores[e.leaderboardId]?t.users[n].scores[e.leaderboardId].pp:null})))}(e)).then(()=>n(3,l=!1)).catch((t)=>{n(3,l=!1),g.default.error("Can not refresh users",t)})}]}var i=Math.floor;n.r(t);var s=n(2),l=n(41),p=n(4),u=n(9),c=n(16),f=n(5),m=n(15),g=n(10),_=n(43),h=n(13),y=n(44),v=n(28),b=n(6);class $ extends s.SvelteComponent{constructor(e){super(),Object(s.init)(this,e,d,o,s.safe_not_equal,{})}}t.default=$},function(e,t,n){"use strict";function a(e){let t,n;const a=new i.default({props:{label:e[2],subLabel:e[3],separator:e[4]}});return{c(){t=Object(s.element)("div"),Object(s.create_component)(a.$$.fragment)},m(e,r){Object(s.insert)(e,t,r),Object(s.mount_component)(a,t,null),n=!0},p(e,t){const n={};4&t&&(n.label=e[2]),8&t&&(n.subLabel=e[3]),16&t&&(n.separator=e[4]),a.$set(n)},i(e){n||(Object(s.transition_in)(a.$$.fragment,e),n=!0)},o(e){Object(s.transition_out)(a.$$.fragment,e),n=!1},d(e){e&&Object(s.detach)(t),Object(s.destroy_component)(a)}}}function r(e){let t,n;const a=new i.default({props:{label:e[2],subLabel:e[3],separator:e[4]}});return{c(){t=Object(s.element)("span"),Object(s.create_component)(a.$$.fragment)},m(e,r){Object(s.insert)(e,t,r),Object(s.mount_component)(a,t,null),n=!0},p(e,t){const n={};4&t&&(n.label=e[2]),8&t&&(n.subLabel=e[3]),16&t&&(n.separator=e[4]),a.$set(n)},i(e){n||(Object(s.transition_in)(a.$$.fragment,e),n=!0)},o(e){Object(s.transition_out)(a.$$.fragment,e),n=!1},d(e){e&&Object(s.detach)(t),Object(s.destroy_component)(a)}}}function o(e){function n(e){return e[5]?0:1}let o,d,t,i,l,p;const u=[r,a],c=[];return t=n(e),i=c[t]=u[t](e),{c(){o=Object(s.element)("progress"),d=Object(s.space)(),i.c(),l=Object(s.empty)(),o.value=e[0],Object(s.attr)(o,"max",e[1]),Object(s.set_style)(o,"max-width",e[6]),Object(s.attr)(o,"class","svelte-7agbo8")},m(e,n){Object(s.insert)(e,o,n),Object(s.insert)(e,d,n),c[t].m(e,n),Object(s.insert)(e,l,n),p=!0},p(e,[a]){(!p||1&a)&&(o.value=e[0]),(!p||2&a)&&Object(s.attr)(o,"max",e[1]),(!p||64&a)&&Object(s.set_style)(o,"max-width",e[6]);let r=t;t=n(e),t===r?c[t].p(e,a):(Object(s.group_outros)(),Object(s.transition_out)(c[r],1,1,()=>{c[r]=null}),Object(s.check_outros)(),i=c[t],i||(i=c[t]=u[t](e),i.c()),Object(s.transition_in)(i,1),i.m(l.parentNode,l))},i(){p||(Object(s.transition_in)(i),p=!0)},o(){Object(s.transition_out)(i),p=!1},d(e){e&&Object(s.detach)(o),e&&Object(s.detach)(d),c[t].d(e),e&&Object(s.detach)(l)}}}function d(e,t,n){let{value:a=0}=t,{max:r=100}=t,{label:o=""}=t,{subLabel:d=""}=t,{separator:s="/"}=t,{inline:i=!1}=t,{maxWidth:l="none"}=t;return e.$set=(e)=>{"value"in e&&n(0,a=e.value),"max"in e&&n(1,r=e.max),"label"in e&&n(2,o=e.label),"subLabel"in e&&n(3,d=e.subLabel),"separator"in e&&n(4,s=e.separator),"inline"in e&&n(5,i=e.inline),"maxWidth"in e&&n(6,l=e.maxWidth)},[a,r,o,d,s,i,l]}n.r(t);var s=n(2),i=n(42);class l extends s.SvelteComponent{constructor(e){var t;super(),document.getElementById("svelte-7agbo8-style")||((t=Object(s.element)("style")).id="svelte-7agbo8-style",t.textContent="progress.svelte-7agbo8{width:20rem;max-width:97%}",Object(s.append)(document.head,t)),Object(s.init)(this,e,d,o,s.safe_not_equal,{value:0,max:1,label:2,subLabel:3,separator:4,inline:5,maxWidth:6})}}t.default=l},function(e,t,n){"use strict";function a(e){let n=e[0].length&&r(e),a=e[1].length&&d(e),o,t;return{c(){n&&n.c(),o=Object(l.space)(),a&&a.c(),t=Object(l.empty)()},m(e,r){n&&n.m(e,r),Object(l.insert)(e,o,r),a&&a.m(e,r),Object(l.insert)(e,t,r)},p(e,s){e[0].length?n?n.p(e,s):(n=r(e),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null),e[1].length?a?a.p(e,s):(a=d(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){n&&n.d(e),e&&Object(l.detach)(o),a&&a.d(e),e&&Object(l.detach)(t)}}}function r(e){let t=e[2].length&&e[1].length&&o(e),n,a,r,d;return{c(){n=Object(l.element)("strong"),a=Object(l.text)(e[0]),r=Object(l.space)(),t&&t.c(),d=Object(l.empty)()},m(e,o){Object(l.insert)(e,n,o),Object(l.append)(n,a),Object(l.insert)(e,r,o),t&&t.m(e,o),Object(l.insert)(e,d,o)},p(e,n){1&n&&Object(l.set_data)(a,e[0]),e[2].length&&e[1].length?t?t.p(e,n):(t=o(e),t.c(),t.m(d.parentNode,d)):t&&(t.d(1),t=null)},d(e){e&&Object(l.detach)(n),e&&Object(l.detach)(r),t&&t.d(e),e&&Object(l.detach)(d)}}}function o(e){let t,n,a,r;return{c(){t=Object(l.element)("span"),n=Object(l.text)("\xA0"),a=Object(l.text)(e[2]),r=Object(l.text)("\xA0")},m(e,o){Object(l.insert)(e,t,o),Object(l.append)(t,n),Object(l.append)(t,a),Object(l.append)(t,r)},p(e,t){4&t&&Object(l.set_data)(a,e[2])},d(e){e&&Object(l.detach)(t)}}}function d(e){let n,a;return{c(){n=Object(l.element)("span"),a=Object(l.text)(e[1])},m(e,t){Object(l.insert)(e,n,t),Object(l.append)(n,a)},p(e,t){2&t&&Object(l.set_data)(a,e[1])},d(e){e&&Object(l.detach)(n)}}}function s(e){let t=(e[0].length||e[1].length)&&a(e),n;return{c(){n=Object(l.element)("label"),t&&t.c(),Object(l.attr)(n,"class","svelte-guacfc")},m(e,a){Object(l.insert)(e,n,a),t&&t.m(n,null)},p(e,[r]){e[0].length||e[1].length?t?t.p(e,r):(t=a(e),t.c(),t.m(n,null)):t&&(t.d(1),t=null)},i:l.noop,o:l.noop,d(e){e&&Object(l.detach)(n),t&&t.d()}}}function i(e,t,n){let{label:a=""}=t,{subLabel:r=""}=t,{separator:o="/"}=t;return e.$set=(e)=>{"label"in e&&n(0,a=e.label),"subLabel"in e&&n(1,r=e.subLabel),"separator"in e&&n(2,o=e.separator)},[a,r,o]}n.r(t);var l=n(2);class p extends l.SvelteComponent{constructor(e){var t;super(),document.getElementById("svelte-guacfc-style")||((t=Object(l.element)("style")).id="svelte-guacfc-style",t.textContent="label.svelte-guacfc{font-weight:normal}",Object(l.append)(document.head,t)),Object(l.init)(this,e,i,s,l.safe_not_equal,{label:0,subLabel:1,separator:2})}}t.default=p},function(e,t,n){"use strict";n.r(t);var a=n(2);n.d(t,"SvelteComponent",function(){return a.SvelteComponentDev}),n.d(t,"afterUpdate",function(){return a.afterUpdate}),n.d(t,"beforeUpdate",function(){return a.beforeUpdate}),n.d(t,"createEventDispatcher",function(){return a.createEventDispatcher}),n.d(t,"getContext",function(){return a.getContext}),n.d(t,"onDestroy",function(){return a.onDestroy}),n.d(t,"onMount",function(){return a.onMount}),n.d(t,"setContext",function(){return a.setContext}),n.d(t,"tick",function(){return a.tick})},function(e,t,n){"use strict";function a(e,t,n,a,r,o,d){try{var s=e[o](d),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function d(e){a(i,r,o,d,s,"next",e)}function s(e){a(i,r,o,d,s,"throw",e)}var i=e.apply(t,n);d(void 0)})}}function o(){return d.apply(this,arguments)}function d(){return(d=r(function*(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a={lastUpdated:t,scores:{}},r=0,o=null;++r;){n&&n({id:e.id,name:e.name,page:r,total:null});var d=yield c(e.id,r);if(!d)break;for(var s in 1===r&&d.length&&(o=Object(p.dateFromString)(d[0].timeset)),d){if(t&&Object(p.dateFromString)(d[s].timeset)<=t)return o&&(a.lastUpdated=o),a;a.scores[d[s].leaderboardId]=d[s]}if(o&&(a.lastUpdated=o),8>d.length)break}return a.lastUpdated=o,a})).apply(this,arguments)}n.r(t),n.d(t,"fetchScores",function(){return c}),n.d(t,"fetchAllNewScores",function(){return o});var s=n(14),i=n(4),l=n(16),p=n(6),u=n(17),c=function(){var e=r(function*(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length,a=Array(2<n?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];return Object(s.fetchApiPage)(u.default.SCORESABER_API,Object(i.substituteVars)(l.SCORES_URL,{userId:e}),t).then((t)=>t&&t.scores?t.scores.filter((e)=>!a.length||a.includes(e.leaderboardId)).map((t)=>({scoreId:t.scoreId,leaderboardId:t.leaderboardId,score:t.score,uScore:t.unmodififiedScore,mods:t.mods,playerId:e,timeset:t.timeSet,pp:t.pp,weight:t.weight,id:t.songHash,name:t.songName,songSubName:t.songSubName,songAuthorName:t.songAuthorName,levelAuthorName:t.levelAuthorName,diff:t.difficultyRaw,difficulty:t.difficulty,maxScoreEx:t.maxScore,rank:t.rank})):null)});return function(){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";function a(e,t,n){const a=e.slice();return a[1]=t[n],a[3]=n,a}function r(e){let t=[],n=new Map,r=e[0],d,s,i,p,u,c,f;const m=(e)=>e[1].leaderboardId;for(let d=0;d<r.length;d+=1){let s=a(e,r,d),i=m(s);n.set(i,t[d]=o(i,s))}return{c(){d=Object(l.element)("h3"),d.textContent="Nowe/zmienione rankedy",s=Object(l.space)(),i=Object(l.element)("table"),p=Object(l.element)("thead"),p.innerHTML="<tr><th class=\"svelte-1ugmq97\">Nuta</th> \n        <th class=\"svelte-1ugmq97\">Mapper</th> \n        <th class=\"svelte-1ugmq97\">Trudno\u015B\u0107</th> \n        <th class=\"svelte-1ugmq97\">PP</th> \n        <th class=\"svelte-1ugmq97\">*</th> \n        <th class=\"svelte-1ugmq97\">Stare *</th></tr>",u=Object(l.space)(),c=Object(l.element)("tbody");for(let e=0;e<t.length;e+=1)t[e].c();Object(l.attr)(i,"class","ranking sspl svelte-1ugmq97")},m(e,n){Object(l.insert)(e,d,n),Object(l.insert)(e,s,n),Object(l.insert)(e,i,n),Object(l.append)(i,p),Object(l.append)(i,u),Object(l.append)(i,c);for(let a=0;a<t.length;a+=1)t[a].m(c,null);f=!0},p(e,r){if(1&r){const d=e[0];Object(l.group_outros)(),t=Object(l.update_keyed_each)(t,r,m,1,e,d,n,c,l.outro_and_destroy_block,o,null,a),Object(l.check_outros)()}},i(){if(!f){for(let e=0;e<r.length;e+=1)Object(l.transition_in)(t[e]);f=!0}},o(){for(let e=0;e<t.length;e+=1)Object(l.transition_out)(t[e]);f=!1},d(e){e&&Object(l.detach)(d),e&&Object(l.detach)(s),e&&Object(l.detach)(i);for(let n=0;n<t.length;n+=1)t[n].d()}}}function o(e,t){let n,a,r,o,d,s,m,g,_,h,y,v,b,$;const k=new i.default({props:{song:t[1]}}),x=new p.default({props:{name:t[1].levelAuthor}}),S=new c.default({props:{diff:t[1].diff}}),C=new u.default({props:{pp:t[1].pp}}),I=new f.default({props:{stars:t[1].stars}}),A=new f.default({props:{stars:t[1].oldStars}});return{key:e,first:null,c(){n=Object(l.element)("tr"),a=Object(l.element)("td"),Object(l.create_component)(k.$$.fragment),r=Object(l.space)(),o=Object(l.element)("td"),Object(l.create_component)(x.$$.fragment),d=Object(l.space)(),s=Object(l.element)("td"),Object(l.create_component)(S.$$.fragment),m=Object(l.space)(),g=Object(l.element)("td"),Object(l.create_component)(C.$$.fragment),_=Object(l.space)(),h=Object(l.element)("td"),Object(l.create_component)(I.$$.fragment),y=Object(l.space)(),v=Object(l.element)("td"),Object(l.create_component)(A.$$.fragment),b=Object(l.space)(),Object(l.attr)(a,"class","svelte-1ugmq97"),Object(l.attr)(o,"class","svelte-1ugmq97"),Object(l.attr)(s,"class","svelte-1ugmq97"),Object(l.attr)(g,"class","svelte-1ugmq97"),Object(l.attr)(h,"class","svelte-1ugmq97"),Object(l.attr)(v,"class","svelte-1ugmq97"),this.first=n},m(e,t){Object(l.insert)(e,n,t),Object(l.append)(n,a),Object(l.mount_component)(k,a,null),Object(l.append)(n,r),Object(l.append)(n,o),Object(l.mount_component)(x,o,null),Object(l.append)(n,d),Object(l.append)(n,s),Object(l.mount_component)(S,s,null),Object(l.append)(n,m),Object(l.append)(n,g),Object(l.mount_component)(C,g,null),Object(l.append)(n,_),Object(l.append)(n,h),Object(l.mount_component)(I,h,null),Object(l.append)(n,y),Object(l.append)(n,v),Object(l.mount_component)(A,v,null),Object(l.append)(n,b),$=!0},p(e,t){const n={};1&t&&(n.song=e[1]),k.$set(n);const a={};1&t&&(a.name=e[1].levelAuthor),x.$set(a);const r={};1&t&&(r.diff=e[1].diff),S.$set(r);const o={};1&t&&(o.pp=e[1].pp),C.$set(o);const d={};1&t&&(d.stars=e[1].stars),I.$set(d);const s={};1&t&&(s.stars=e[1].oldStars),A.$set(s)},i(e){$||(Object(l.transition_in)(k.$$.fragment,e),Object(l.transition_in)(x.$$.fragment,e),Object(l.transition_in)(S.$$.fragment,e),Object(l.transition_in)(C.$$.fragment,e),Object(l.transition_in)(I.$$.fragment,e),Object(l.transition_in)(A.$$.fragment,e),$=!0)},o(e){Object(l.transition_out)(k.$$.fragment,e),Object(l.transition_out)(x.$$.fragment,e),Object(l.transition_out)(S.$$.fragment,e),Object(l.transition_out)(C.$$.fragment,e),Object(l.transition_out)(I.$$.fragment,e),Object(l.transition_out)(A.$$.fragment,e),$=!1},d(e){e&&Object(l.detach)(n),Object(l.destroy_component)(k),Object(l.destroy_component)(x),Object(l.destroy_component)(S),Object(l.destroy_component)(C),Object(l.destroy_component)(I),Object(l.destroy_component)(A)}}}function d(e){let t=e[0]&&e[0].length&&r(e),n,a;return{c(){t&&t.c(),n=Object(l.empty)()},m(e,r){t&&t.m(e,r),Object(l.insert)(e,n,r),a=!0},p(e,[a]){e[0]&&e[0].length?t?(t.p(e,a),1&a&&Object(l.transition_in)(t,1)):(t=r(e),t.c(),Object(l.transition_in)(t,1),t.m(n.parentNode,n)):t&&(Object(l.group_outros)(),Object(l.transition_out)(t,1,1,()=>{t=null}),Object(l.check_outros)())},i(){a||(Object(l.transition_in)(t),a=!0)},o(){Object(l.transition_out)(t),a=!1},d(e){t&&t.d(e),e&&Object(l.detach)(n)}}}function s(e,t,n){let{rankeds:a=[]}=t;return e.$set=(e)=>{"rankeds"in e&&n(0,a=e.rankeds)},[a]}n.r(t);var l=n(2),i=n(46),p=n(47),u=n(34),c=n(48),f=n(49);class m extends l.SvelteComponent{constructor(e){var t;super(),document.getElementById("svelte-1ugmq97-style")||((t=Object(l.element)("style")).id="svelte-1ugmq97-style",t.textContent="table.svelte-1ugmq97.svelte-1ugmq97{margin-bottom:2rem}table.svelte-1ugmq97 th.svelte-1ugmq97,table.svelte-1ugmq97 td.svelte-1ugmq97{text-align:center}table.svelte-1ugmq97 tbody tr td.svelte-1ugmq97:nth-child(1){text-align:left}",Object(l.append)(document.head,t)),Object(l.init)(this,e,s,d,l.safe_not_equal,{rankeds:0})}}t.default=m},function(e,t,n){"use strict";function a(e){let t=e[0].songAuthor+"",n=e[0].name+"",r,a,o,i,l;return{c(){r=Object(d.element)("a"),a=Object(d.text)(t),o=Object(d.text)(" - "),i=Object(d.text)(n),Object(d.attr)(r,"href",l=s.SCORESABER_URL+"/leaderboard/"+encodeURIComponent(e[0].leaderboardId))},m(e,t){Object(d.insert)(e,r,t),Object(d.append)(r,a),Object(d.append)(r,o),Object(d.append)(r,i)},p(e,o){1&o&&t!=(t=e[0].songAuthor+"")&&Object(d.set_data)(a,t),1&o&&n!=(n=e[0].name+"")&&Object(d.set_data)(i,n),1&o&&l!==(l=s.SCORESABER_URL+"/leaderboard/"+encodeURIComponent(e[0].leaderboardId))&&Object(d.attr)(r,"href",l)},d(e){e&&Object(d.detach)(r)}}}function r(e){let t=e[0]&&a(e),n;return{c(){t&&t.c(),n=Object(d.empty)()},m(e,a){t&&t.m(e,a),Object(d.insert)(e,n,a)},p(e,[r]){e[0]?t?t.p(e,r):(t=a(e),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:d.noop,o:d.noop,d(e){t&&t.d(e),e&&Object(d.detach)(n)}}}function o(e,t,n){let{song:a}=t;return e.$set=(e)=>{"song"in e&&n(0,a=e.song)},[a]}n.r(t);var d=n(2),s=n(16);class i extends d.SvelteComponent{constructor(e){super(),Object(d.init)(this,e,o,r,d.safe_not_equal,{song:0})}}t.default=i},function(e,t,n){"use strict";function a(){let e;return{c(){e=Object(s.text)("-")},m(t,n){Object(s.insert)(t,e,n)},p:s.noop,d(t){t&&Object(s.detach)(e)}}}function r(e){let n;return{c(){n=Object(s.text)(e[0])},m(e,t){Object(s.insert)(e,n,t)},p(e,t){1&t&&Object(s.set_data)(n,e[0])},d(e){e&&Object(s.detach)(n)}}}function o(e){function t(e){return e[0]?r:a}let n=t(e),o=n(e),d;return{c(){o.c(),d=Object(s.empty)()},m(e,t){o.m(e,t),Object(s.insert)(e,d,t)},p(e,[a]){n===(n=t(e))&&o?o.p(e,a):(o.d(1),o=n(e),o&&(o.c(),o.m(d.parentNode,d)))},i:s.noop,o:s.noop,d(e){o.d(e),e&&Object(s.detach)(d)}}}function d(e,t,n){let{name:a}=t;return e.$set=(e)=>{"name"in e&&n(0,a=e.name)},[a]}n.r(t);var s=n(2);class i extends s.SvelteComponent{constructor(e){super(),Object(s.init)(this,e,d,o,s.safe_not_equal,{name:0})}}t.default=i},function(e,t,n){"use strict";function a(e){let n=Object(s.getHumanDiffName)(e[0])+"",a,r;return{c(){a=Object(d.element)("span"),r=Object(d.text)(n),Object(d.set_style)(a,"color",Object(s.getDiffColor)(e[0]))},m(e,t){Object(d.insert)(e,a,t),Object(d.append)(a,r)},p(e,t){1&t&&n!=(n=Object(s.getHumanDiffName)(e[0])+"")&&Object(d.set_data)(r,n),1&t&&Object(d.set_style)(a,"color",Object(s.getDiffColor)(e[0]))},d(e){e&&Object(d.detach)(a)}}}function r(e){let t=e[0]&&a(e),n;return{c(){t&&t.c(),n=Object(d.empty)()},m(e,a){t&&t.m(e,a),Object(d.insert)(e,n,a)},p(e,[r]){e[0]?t?t.p(e,r):(t=a(e),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:d.noop,o:d.noop,d(e){t&&t.d(e),e&&Object(d.detach)(n)}}}function o(e,t,n){let{diff:a}=t;return e.$set=(e)=>{"diff"in e&&n(0,a=e.diff)},[a]}n.r(t);var d=n(2),s=n(24);class i extends d.SvelteComponent{constructor(e){super(),Object(d.init)(this,e,o,r,d.safe_not_equal,{diff:0})}}t.default=i},function(e,t,n){"use strict";function a(e){let n=Object(d.formatNumberWithSuffix)(e[0],"*")+"",a;return{c(){a=Object(o.text)(n)},m(e,t){Object(o.insert)(e,a,t)},p(e,[t]){1&t&&n!=(n=Object(d.formatNumberWithSuffix)(e[0],"*")+"")&&Object(o.set_data)(a,n)},i:o.noop,o:o.noop,d(e){e&&Object(o.detach)(a)}}}function r(e,t,n){let{stars:a}=t;return e.$set=(e)=>{"stars"in e&&n(0,a=e.stars)},[a]}n.r(t);var o=n(2),d=n(4);class s extends o.SvelteComponent{constructor(e){super(),Object(o.init)(this,e,r,a,o.safe_not_equal,{stars:0})}}t.default=s},function(e,t,n){"use strict";function a(e){let t,n,a,d;const s=new p.default({props:{pp:e[0].pp,prevPp:e[0].prevPp,zero:"0,00",withZeroSuffix:!0,weighted:e[0].ppWeighted,inline:!0}});let u=e[0].percent&&r(e),c=e[0].score&&o(e);const f=new l.default({props:{leaderboardId:e[0].leaderboardId,pp:e[0].pp}});return{c(){Object(i.create_component)(s.$$.fragment),t=Object(i.space)(),u&&u.c(),n=Object(i.space)(),c&&c.c(),a=Object(i.space)(),Object(i.create_component)(f.$$.fragment)},m(e,r){Object(i.mount_component)(s,e,r),Object(i.insert)(e,t,r),u&&u.m(e,r),Object(i.insert)(e,n,r),c&&c.m(e,r),Object(i.insert)(e,a,r),Object(i.mount_component)(f,e,r),d=!0},p(e,t){const d={};1&t&&(d.pp=e[0].pp),1&t&&(d.prevPp=e[0].prevPp),1&t&&(d.weighted=e[0].ppWeighted),s.$set(d),e[0].percent?u?(u.p(e,t),1&t&&Object(i.transition_in)(u,1)):(u=r(e),u.c(),Object(i.transition_in)(u,1),u.m(n.parentNode,n)):u&&(Object(i.group_outros)(),Object(i.transition_out)(u,1,1,()=>{u=null}),Object(i.check_outros)()),e[0].score?c?(c.p(e,t),1&t&&Object(i.transition_in)(c,1)):(c=o(e),c.c(),Object(i.transition_in)(c,1),c.m(a.parentNode,a)):c&&(Object(i.group_outros)(),Object(i.transition_out)(c,1,1,()=>{c=null}),Object(i.check_outros)());const l={};1&t&&(l.leaderboardId=e[0].leaderboardId),1&t&&(l.pp=e[0].pp),f.$set(l)},i(e){d||(Object(i.transition_in)(s.$$.fragment,e),Object(i.transition_in)(u),Object(i.transition_in)(c),Object(i.transition_in)(f.$$.fragment,e),d=!0)},o(e){Object(i.transition_out)(s.$$.fragment,e),Object(i.transition_out)(u),Object(i.transition_out)(c),Object(i.transition_out)(f.$$.fragment,e),d=!1},d(e){Object(i.destroy_component)(s,e),e&&Object(i.detach)(t),u&&u.d(e),e&&Object(i.detach)(n),c&&c.d(e),e&&Object(i.detach)(a),Object(i.destroy_component)(f,e)}}}function r(e){let n,a,r,t;const o=new u.default({props:{value:100*e[0].percent,zero:"0,00",withZeroSuffix:!0,prevValue:100*e[0].prevPercent,inline:!0,suffix:"%"}});return{c(){n=Object(i.element)("div"),a=Object(i.element)("span"),r=Object(i.text)("Accuracy: "),Object(i.create_component)(o.$$.fragment),Object(i.attr)(a,"class","scoreBottom")},m(e,d){Object(i.insert)(e,n,d),Object(i.append)(n,a),Object(i.append)(a,r),Object(i.mount_component)(o,a,null),t=!0},p(e,t){const n={};1&t&&(n.value=100*e[0].percent),1&t&&(n.prevValue=100*e[0].prevPercent),o.$set(n)},i(e){t||(Object(i.transition_in)(o.$$.fragment,e),t=!0)},o(e){Object(i.transition_out)(o.$$.fragment,e),t=!1},d(e){e&&Object(i.detach)(n),Object(i.destroy_component)(o)}}}function o(e){let n,a,r,t;const o=new u.default({props:{value:e[0].score,zero:"0,00",prevValue:e[0].prevScore,inline:!0,digits:0}});return{c(){n=Object(i.element)("div"),a=Object(i.element)("span"),r=Object(i.text)("Score: "),Object(i.create_component)(o.$$.fragment),Object(i.attr)(a,"class","scoreBottom")},m(e,d){Object(i.insert)(e,n,d),Object(i.append)(n,a),Object(i.append)(a,r),Object(i.mount_component)(o,a,null),t=!0},p(e,t){const n={};1&t&&(n.value=e[0].score),1&t&&(n.prevValue=e[0].prevScore),o.$set(n)},i(e){t||(Object(i.transition_in)(o.$$.fragment,e),t=!0)},o(e){Object(i.transition_out)(o.$$.fragment,e),t=!1},d(e){e&&Object(i.detach)(n),Object(i.destroy_component)(o)}}}function d(e){let t=e[0]&&a(e),n,r;return{c(){t&&t.c(),n=Object(i.empty)()},m(e,a){t&&t.m(e,a),Object(i.insert)(e,n,a),r=!0},p(e,[r]){e[0]?t?(t.p(e,r),1&r&&Object(i.transition_in)(t,1)):(t=a(e),t.c(),Object(i.transition_in)(t,1),t.m(n.parentNode,n)):t&&(Object(i.group_outros)(),Object(i.transition_out)(t,1,1,()=>{t=null}),Object(i.check_outros)())},i(){r||(Object(i.transition_in)(t),r=!0)},o(){Object(i.transition_out)(t),r=!1},d(e){t&&t.d(e),e&&Object(i.detach)(n)}}}function s(e,t,n){let{song:a=null}=t;return e.$set=(e)=>{"song"in e&&n(0,a=e.song)},[a]}n.r(t);var i=n(2),l=n(39),p=n(34),u=n(30);class c extends i.SvelteComponent{constructor(e){super(),Object(i.init)(this,e,s,d,i.safe_not_equal,{song:0})}}t.default=c},function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAYCAYAAAACqyaBAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH5AUGEAksU7ZXQgAAAAFvck5UAc+id5oAAAmGSURBVEjHZdXpc5SHYcfx73Ps8zx7a3UskkAckpCELK0kHJAMSDEGQzCGOnISEjtXDzeexu2LdpLpZPqimabNJJ1hJtNm2pmYxI7DTA7bIBibwxTLBmIjTskWQhwSrM5d7Wp3tcez++xz9EVmMqX5/QOf+b36Chc++IAdAwP86/e/z5l33+XCyAgA/9j6Gb73QGCsdIU7b/yyPbkY65+ZiTpz0RkW5mdZisXIZ1dwLAdJkgWXpjrByiqhvmHNUuTxx+90b+tdem7fgaX+2ga770ufR89mefW11/i/ExzHIewP8J+vHQm9cfRo9bq167pk23kuNTfvTYzfdcRYUthYGd7gD4W6ynoRo6DjVCtInQqCpGPnLYzrJna8gKi4cCmujIgQTWOlc+HAgrdlwy+ae7ecTUZn7H8/fPhRvNal8fyff/1AdGLyFTOW7K20RWX97n53S1Mz9vg9vOk81R9PEiqYSKKIK6zg/tZTCPt24XYLCKZB7rcTlF49iZ3OYmFj4GBVB5neVM9v83P3Mlb5gEuSbv/3kSOsW7/+j7j8m3KRH3x89aXtD1b2bNu8hca9nyW8YwvZDau4dfsWNV4/80fexH3iCi7HRtuqoDRNYVpNWHTjrVmH9VQ19tAlSOcQfT60p7bi//I+Gjc2cP6H/7Lhk3Pnwslk4raqqo88FwfYS2lp2e6vWUuktY3a5/agRlopFnUkQWAhk8LZ+TiBwV0Ifi+O3IEx34UTS+LKnEUy57D9PlbcMvftArFdPSj/9BKuXX2IlRVUhELiwcHBrclcntq6OurDYYxSiffOnEHGlUGpqjCSq2pw79lGKZ3ho/u3mZy6TyhUQXNzM3XtHfh6enEyOcoTc9iTCYSgQ/mlvVg1GvfnoxzXcjxoUrh/8Tg7/8Pgb779CtU1NVRUhATNrR38yeHD5xPJ5I6qqqoPXYoyurGlxZFcfz2IUF3RuXHfUwPtz+4R3h+7zrGhY3ww/D6/PnoUnz/A9m39KOEqhKCX0olh7KlZRFPGs3cfwvp1vPb6z0kIZSy/hwuXLnJ3cpKOzi5aWlu5fu0q+XyuYmFhYX8yvvTC3VsT3e+dOTt05fLlgnjy7bepCoXimflFs5TK8P7wMLcnb5NMJBBFkasjV5i6P00hV0B8rBnXY82guNAGd+Hu7cA2LWKLcY69+TveOX4ct6qiaRrx+BKZ1Aq2DQ8fPgy2trY1/f03/hJv0epJrKT+7MALh4Ly5fgszwQC6ooqCYJbxe124/P62P/Ms3g8XgLBILlsjlLJQDZtkGWUlnWoe7ZhuzXI67RsaCIgq9g+Hz6/n1XhOmrDdZhlE5csMz01RV/fE/iDQdpC1erE9Rs/OvzKPxyQASzHzjiqyxYDXp58cicvvPgioVCI2EIcl6JQKBTJzcySf+8jjGIO+eVBynUhrIVFSqUyfY9FaN7+LP5IK0JvhKLtEIl0oSgKW3t7CQT9RLq6Kbplvvl3f8v0j39WefjciYPy4I4nmZmayje0R2yXYVG3up7Tp09jm2Xcbg/lkoHl2GSno0yfHqautZma6ATG5A1kVSWXSuOSZWTRwHVrHEMsYsoSwUCATe3tdPf00L25B6NkMDF6E3sujVeU8SMiF1vXKM6lTz4f6dqhOaaJqqq89ebv8GgqX/nqi+wY2I4/EOTE229zKjPLK33P88I3vkY2k0Fze0gnkuRLOotPLDExfot3hoZILafYuXMXoiSRzeYRRRFNU6jxBWD+Dr50gYgSQNYnH+zc09GzteWJreDRqKKGp5/ew8TEOOVymVBliIqKEM8cPEiouobOSIT61ath9WrAYV3jem59+ill0yAU8CMIAvv272djSwuqpqIBRb2EXtTRKoOEGtbwIH2acdVCGmjrOPnc4GDz6qZGiskMks/HY5FOvB4PmUwGQRCorq6mtq6ezkgntXW1SJKM4wAI4IBRKlIoFBAEh7q6NTz//JcIh8OUjTKaW6OUL6BPz4JeYhydK4tR/WE+MyT8qLnP+cLGLqSeNjx7tqF2tKB43WRXskQfPuTKyAgLC3OoLhd+QUK0wevzIiouFE0js5TATKRIFXWatveybfsOvF4/Hq+bXDaPKIkk4nGmr960b545N3fXLpy5PXXvLbOgj8g9WgVKYwNxr0J5KsqaSBumYSJLMo2NzTQ0rCWTyTA9Nc1yNIq0mCBbKDITncXl1mhau55w7RrqQ1VUPfEZPBUBVtJZCnkd0zS5NPwhly5dXMjrhZ+uaqh615uVP7138lY5sqkd+Wo6NlVz+kJjwacQ/Odvg1vFSq1g5Aq4QgFUTaNGUamsqkJoaUNxSRhelVQqDQ5UVlYRCgWwYssYLgldLyJKIpIkIYkiD6en7fPn3vtObW390ab6NaSTy1y7O8lHFy4i313l/XHLVOx7/sp1a0urazDSOfSL13E2NSKKEiKgZ3NgWgj3oihbOlH8Hnz+IDgOtmNjOVCWRYyPx8j7PGiNa1Arg4CDJIj2Uix+z7Zsfn91hJOnTvHTI6/+oWrZr+5+9UaV61v/4y2/np5dyOTeOEE5kaKUyiCVy9hFA/P+DPrlMURVoSgKlIsGRr6AgI1glHFsG0vTsGwbxu9hxZKIgD0bw86sWI4sCaZtcfLUqUeTqg6PWhtdvtMPZOu/9J8cTZvXxin7PAgXbyI4Dnp0nqXxSWLTD0n4FOJLS8TGJ0l+dIN0PEni4xvM3Z8im88itzchLa9gX7gGRhl9dJLi2d+XbMMw7UyO/z/56NAxFju6kWYtqSgLorC9D/v4eVyVQcy8TmHoPImbY9xcG+D0d9/KedzuMblo5DVBQgpXCtbMQu9fvPyyv/tzT+MEFRxVwTgxTGlLB8XpWZYnp+SyXhCLovGnOEBZc2HZsqrnikr5xDBSLInTv5mVX70DvzlDi8+D3N3KWWf0emdX55d/8G8/XBAEQQDUQ+2Pnw3fme+X+/KYooCgF3GiC+RfH8JeWKJomaotIFk4f4JLAF1d3Shet1oRTXxWTmZWFRxLysbipK6OEc+keGAX9VuVin43mzz2+hu/Or571y6y6TRLA51sxjvgi2c6nQ+vCYJHxVxfy/LIKIuXbzK3OL/yiWyM3rbyRzVJXl4xH30vAGxu2sj1e3fYv7att3G52LxKdHndjkDZcVhyykyg51JNdfkde3ePlg3jQX//ALZt88VDh/irLx7aUPzw2m6PIH4tH67YLG9q1PxzyeHqsemhWcWZz7atHctlc3dHRq+zhPUI/r/tqWm1gKHlswAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNS0wNlQxNjowOTo0NCswMDowMNB9vSQAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDUtMDZUMTY6MDk6NDQrMDA6MDChIAWYAAAAAElFTkSuQmCC"},function(e,t,n){(t=n(53)(!1)).push([e.i,".navbar-brand .navbar-item b{background:#fff;background:-webkit-gradient(left top,left bottom,color-stop(0,#fff),color-stop(55%,#fff),color-stop(55%,red),color-stop(100%,#ff1500));background:linear-gradient(180deg,#fff 0,#fff 55%,red 0,#ff1500);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#ffffff\",endColorstr=\"#ff1500\",GradientType=0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.sspl .player-name{font-size:1.1rem;font-weight:700}.sspl .diff.inc{color:#42b129!important}.sspl .diff.dec{color:#f94022!important}.what-if{position:absolute;top:1em;right:0;font-weight:700;padding:0}table.ranking.songs th.score,table.ranking td.pp{position:relative}table.ranking tbody tr.hidden{opacity:.05}.content table.ranking.global.sspl .diff,.content table.ranking.global.sspl .pp{text-align:center}.box .tabs a{border-bottom:none}.box .tabs li:hover{border-bottom:1px solid #000;margin-bottom:-1px}.tabs li.is-active{border-bottom:1px solid #3273dc;margin-bottom:-1px}img.bloodtrail{height:24px}.sspl .rank small{font-size:.75rem;margin-left:.5rem;color:#d3d3d3}.sspl .rank span{display:inline-block;width:1.5rem;text-align:right}.text-center{text-align:center}.offset_tab{margin-left:auto}.sspl .inc{color:#42b129!important}.sspl .dec{color:#f94022!important}table.ranking.songs.sspl th.score{min-width:11rem}.content .column h5 .refresh{position:absolute;top:.5rem;right:.5rem;font-size:1rem}.pagination select.type,.sspl select,.sspl thead .diff select{font-size:1rem;font-weight:700;border:none;color:var(--textColor,#000);background-color:var(--background,#fff);outline:none}.pp-boundary{color:var(--textColor,#000)}.sspl tbody tr.main{background-color:var(--color-highlight)}table.ranking tbody tr:hover{background-color:var(--hover)!important}section.rankChart{height:300px!important}",""]),e.exports=t},function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var r=(d=a,s=btoa(unescape(encodeURIComponent(JSON.stringify(d)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(i," */")),o=a.sources.map(function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")});return[n].concat(o).concat([r]).join("\n")}var d,s,i;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n}).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var o=0,d;o<this.length;o++)d=this[o][0],null!=d&&(r[d]=!0);for(var s=0,i;s<e.length;s++)i=[].concat(e[s]),a&&r[i[0]]||(n&&(i[2]?i[2]="".concat(n," and ").concat(i[2]):i[2]=n),t.push(i))},t}}]);